# Three.js + WebGL äº§å“å±•ç¤ºæœ€ä½³å®è·µ ğŸ€

> ç¾ç¾Šç¾Šçš„å­¦ä¹ ç¬”è®° | 2026-02-21

---

## 1. Three.js äº§å“å±•ç¤ºä¼˜ç§€æ¡ˆä¾‹

### 1.1 Apple AirPods Pro
- **URL**: https://www.apple.com/airpods-pro/
- **æ•ˆæœ**: äº§å“è·Ÿéšæ»šåŠ¨æ—‹è½¬ï¼Œæè‡´ç™½è‰²å¡‘æ–™æè´¨ï¼Œç¯å¢ƒåå°„ç»†è…»
- **æŠ€æœ¯**: æ»šåŠ¨é©±åŠ¨åŠ¨ç”»ï¼ˆScrollTrigger + Three.jsï¼‰ï¼Œé¢„çƒ˜ç„™å…‰ç…§ï¼ŒGLTFæ¨¡å‹
- **ä¼˜åŒ–**: æ¨¡å‹æŒ‰éœ€åŠ è½½ï¼ŒLODåˆ‡æ¢ï¼Œè§†å£å¤–æš‚åœæ¸²æŸ“

### 1.2 Apple Mac Pro
- **URL**: https://www.apple.com/mac-pro/
- **æ•ˆæœ**: é‡‘å±æ‹‰ä¸è´¨æ„Ÿï¼Œé•œé¢åå°„ï¼Œ360Â°æ—‹è½¬å±•ç¤º
- **æŠ€æœ¯**: MeshPhysicalMaterial + é‡‘å±åº¦/ç²—ç³™åº¦è´´å›¾ï¼ŒHDRç¯å¢ƒè´´å›¾
- **ä¼˜åŒ–**: åˆ†æ®µåŠ è½½ï¼ŒWebPçº¹ç†å‹ç¼©

### 1.3 Porsche Experience (é…ç½®å™¨)
- **URL**: https://configurator.porsche.com
- **æ•ˆæœ**: å®æ—¶æ¢è‰²/æ¢ä»¶ï¼Œè½¦æ¼†å¤šå±‚æè´¨ï¼ˆclearcoatï¼‰ï¼Œå®æ—¶é˜´å½±
- **æŠ€æœ¯**: MeshPhysicalMaterial.clearcoatï¼Œå®æ—¶ç¯å¢ƒæ¢é’ˆï¼ŒPMREM
- **ä¼˜åŒ–**: æŒ‰éœ€åŠ è½½é…ä»¶æ¨¡å‹ï¼ŒGPUå®ä¾‹åŒ–

### 1.4 Bruno Simon Portfolio
- **URL**: https://bruno-simon.com
- **æ•ˆæœ**: 3Dç‰©ç†é©±åŠ¨çš„äº’åŠ¨ä½“éªŒï¼Œå¡é€šé£æ ¼
- **æŠ€æœ¯**: Cannon.jsç‰©ç† + Three.jsï¼Œè‡ªå®šä¹‰ç€è‰²å™¨
- **ä¼˜åŒ–**: ä½å¤šè¾¹å½¢æ¨¡å‹ï¼Œç®€åŒ–ç¢°æ’ä½“

### 1.5 Lusion (åˆ›æ„å·¥ä½œå®¤)
- **URL**: https://lusion.co
- **æ•ˆæœ**: æµä½“æ¨¡æ‹Ÿï¼Œç²’å­ç‰¹æ•ˆï¼Œåå¤„ç†é‡åº¦ä½¿ç”¨
- **æŠ€æœ¯**: è‡ªå®šä¹‰ShaderMaterialï¼ŒGPGPUç²’å­ï¼Œåå¤„ç†ç®¡çº¿
- **ä¼˜åŒ–**: EffectComposerç®¡çº¿åˆå¹¶passï¼Œé™é‡‡æ ·åå¤„ç†

### 1.6 Gucci Virtual Try-On
- **URL**: https://www.gucci.com (éƒ¨åˆ†äº§å“é¡µ)
- **æ•ˆæœ**: å¥¢ä¾ˆå“æè´¨ï¼ˆçš®é©ã€é‡‘å±æ‰£ï¼‰ï¼Œé«˜ç²¾åº¦PBR
- **æŠ€æœ¯**: glTF + Dracoå‹ç¼©ï¼ŒIBLç¯å¢ƒå…‰ç…§
- **ä¼˜åŒ–**: KTX2çº¹ç†å‹ç¼©ï¼Œæ¸è¿›å¼åŠ è½½

### 1.7 Google Store (Pixelæ‰‹æœº)
- **URL**: https://store.google.com
- **æ•ˆæœ**: äº§å“é¢œè‰²åˆ‡æ¢ï¼Œç®€æ´å…‰ç…§ï¼Œæ‰‹åŠ¿æ—‹è½¬
- **æŠ€æœ¯**: model-viewer (åŸºäºThree.jsçš„Web Component)
- **ä¼˜åŒ–**: è‡ªé€‚åº”åˆ†è¾¨ç‡ï¼Œæ‡’åŠ è½½

### 1.8 Shopify AR
- **URL**: Shopifyå•†å“é¡µARé¢„è§ˆ
- **æ•ˆæœ**: äº§å“3Dé¢„è§ˆ + ARæŠ•æ”¾åˆ°çœŸå®ç¯å¢ƒ
- **æŠ€æœ¯**: model-viewer + WebXRï¼ŒUSDZ/GLBåŒæ ¼å¼
- **ä¼˜åŒ–**: è‡ªåŠ¨LODï¼Œç§»åŠ¨ç«¯é™åˆ†è¾¨ç‡

### 1.9 Nike By You (å®šåˆ¶é‹)
- **URL**: https://www.nike.com/nike-by-you
- **æ•ˆæœ**: å®æ—¶æ¢è‰²æ¢æè´¨ï¼Œå¸ƒæ–™/çš®é©/ç½‘é¢å¤šæè´¨
- **æŠ€æœ¯**: å¤šUVé€šé“ + maskè´´å›¾å®æ—¶æ¢è‰²ï¼ŒPBRç®¡çº¿
- **ä¼˜åŒ–**: çº¹ç†Atlasåˆå¹¶ï¼ŒDrawCallä¼˜åŒ–

### 1.10 Sketchfab äº§å“å±•ç¤º
- **URL**: https://sketchfab.com
- **æ•ˆæœ**: é€šç”¨3Dæ¨¡å‹æŸ¥çœ‹å™¨ï¼Œæ”¯æŒæ³¨é‡Šã€åŠ¨ç”»ã€AR
- **æŠ€æœ¯**: è‡ªç ”æ¸²æŸ“å™¨ï¼ˆç±»Three.jsï¼‰ï¼ŒIBL + åå¤„ç†å…¨å®¶æ¡¶
- **ä¼˜åŒ–**: è‡ªé€‚åº”ç”»è´¨ï¼Œçº¹ç†æµå¼åŠ è½½ï¼ŒWebWorkerè§£ç 

---

## 2. Three.js äº§å“æ¸²æŸ“æŠ€æœ¯

### 2.1 PBR æè´¨ç³»ç»Ÿ â€” MeshPhysicalMaterial è¯¦è§£

MeshPhysicalMaterial æ˜¯ Three.js æœ€å¼ºå¤§çš„ PBR æè´¨ï¼ŒåŸºäº MeshStandardMaterial æ‰©å±•ã€‚

```javascript
const material = new THREE.MeshPhysicalMaterial({
  // === åŸºç¡€ PBR ===
  color: 0xffffff,          // åŸºç¡€è‰²
  metalness: 0.0,           // é‡‘å±åº¦ 0=éé‡‘å± 1=é‡‘å±
  roughness: 0.3,           // ç²—ç³™åº¦ 0=é•œé¢ 1=ç²—ç³™
  
  // === Physical ç‹¬æœ‰ ===
  clearcoat: 1.0,           // æ¸…æ¼†å±‚ï¼ˆè½¦æ¼†ã€é’¢ç´çƒ¤æ¼†ï¼‰
  clearcoatRoughness: 0.1,  // æ¸…æ¼†ç²—ç³™åº¦
  
  sheen: 1.0,               // å…‰æ³½ï¼ˆå¸ƒæ–™ã€ä¸ç»¸ï¼‰
  sheenRoughness: 0.5,
  sheenColor: new THREE.Color(0xffffff),
  
  transmission: 0.0,        // é€å°„ï¼ˆç»ç’ƒã€æ¶²ä½“ï¼‰
  thickness: 1.0,           // é€å°„åšåº¦
  ior: 1.5,                 // æŠ˜å°„ç‡ï¼ˆç»ç’ƒ1.5ï¼Œæ°´1.33ï¼‰
  
  iridescence: 0.0,         // è™¹å½©ï¼ˆè‚¥çš‚æ³¡ã€CDå…‰ç›˜ï¼‰
  iridescenceIOR: 1.3,
  
  anisotropy: 0.0,          // å„å‘å¼‚æ€§ï¼ˆæ‹‰ä¸é‡‘å±ï¼‰
  anisotropyRotation: 0.0,
  
  specularIntensity: 1.0,   // é«˜å…‰å¼ºåº¦
  specularColor: new THREE.Color(0xffffff),
  
  envMapIntensity: 1.0,     // ç¯å¢ƒè´´å›¾å¼ºåº¦
});
```

**å¸¸ç”¨æè´¨é¢„è®¾ï¼š**

| æè´¨ | metalness | roughness | ç‰¹æ®Šå±æ€§ |
|------|-----------|-----------|----------|
| ç™½è‰²å¡‘æ–™ | 0.0 | 0.3-0.5 | â€” |
| å“‘å…‰å¡‘æ–™ | 0.0 | 0.8 | â€” |
| é’¢ç´çƒ¤æ¼† | 0.0 | 0.1 | clearcoat: 1.0 |
| æ‹‰ä¸é‡‘å± | 1.0 | 0.3 | anisotropy: 1.0 |
| é•œé¢é‡‘å± | 1.0 | 0.05 | â€” |
| ç»ç’ƒ | 0.0 | 0.0 | transmission: 1.0, ior: 1.5 |
| è½¦æ¼† | 0.0 | 0.5 | clearcoat: 1.0, clearcoatRoughness: 0.03 |

### 2.2 HDR ç¯å¢ƒè´´å›¾ â€” è®©äº§å“çœ‹èµ·æ¥çœŸå®

ç¯å¢ƒè´´å›¾æ˜¯äº§å“å±•ç¤ºçš„çµé­‚ã€‚æ²¡æœ‰å¥½çš„ç¯å¢ƒå…‰ï¼ŒPBRæè´¨å†å¥½ä¹Ÿç™½æ­ã€‚

**æ–¹æ¡ˆå¯¹æ¯”ï¼š**

| æ–¹æ¡ˆ | çœŸå®åº¦ | æ–‡ä»¶å¤§å° | ç¦»çº¿å‹å¥½ |
|------|--------|----------|----------|
| HDRæ–‡ä»¶ (RGBE) | â­â­â­â­â­ | 2-10MB | âŒ éœ€é¢å¤–åŠ è½½ |
| EXRæ–‡ä»¶ | â­â­â­â­â­ | 1-5MB | âŒ |
| LDR Cubemap (6å¼ JPG) | â­â­â­ | 500KB-2MB | âš ï¸ å¯å†…åµŒä½†å¤§ |
| Procedural Sky | â­â­â­ | 0KB | âœ… å®Œå…¨å†…åµŒ |
| é¢„è®¡ç®—çƒè°å…‰ç…§ | â­â­ | <1KB | âœ… æå° |

**Procedural Sky æ–¹æ¡ˆï¼ˆç¦»çº¿æœ€ä½³ï¼‰ï¼š**

```javascript
// ä½¿ç”¨ PMREMGenerator ä»åœºæ™¯ç”Ÿæˆç¯å¢ƒè´´å›¾
const pmremGenerator = new THREE.PMREMGenerator(renderer);

// æ–¹æ¡ˆA: ç”¨ Scene åšç®€æ˜“ç¯å¢ƒ
const envScene = new THREE.Scene();
envScene.background = new THREE.Color(0xcccccc);
// æ·»åŠ å‡ ä¸ªä¸åŒé¢œè‰²çš„å…‰æºæ¨¡æ‹Ÿç¯å¢ƒ
const light1 = new THREE.DirectionalLight(0xffffff, 3);
light1.position.set(1, 2, 1);
envScene.add(light1);
const light2 = new THREE.HemisphereLight(0xffffff, 0x444444, 2);
envScene.add(light2);
const envMap = pmremGenerator.fromScene(envScene).texture;

// æ–¹æ¡ˆB: å†…ç½®æ¸å˜çƒ
scene.environment = envMap;
```

**æ¨è HDR æ¥æºï¼ˆå…è´¹ï¼‰ï¼š**
- Poly Haven (polyhaven.com) â€” CC0åè®®ï¼Œstudioç±»HDRIæœ€é€‚åˆäº§å“å±•ç¤º
- æ¨èï¼š`studio_small_09`ã€`photo_studio_loft_hall`

### 2.3 åå¤„ç†æ•ˆæœ

```javascript
import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';
import { SSAOPass } from 'three/addons/postprocessing/SSAOPass.js';
import { OutputPass } from 'three/addons/postprocessing/OutputPass.js';

const composer = new EffectComposer(renderer);
composer.addPass(new RenderPass(scene, camera));

// Bloom â€” è®©é«˜å…‰æº¢å‡ºï¼Œå¢åŠ è´¨æ„Ÿ
const bloom = new UnrealBloomPass(
  new THREE.Vector2(window.innerWidth, window.innerHeight),
  0.3,   // strength â€” äº§å“å±•ç¤ºç”¨0.1-0.5ï¼Œåˆ«å¤ªçŒ›
  0.4,   // radius
  0.85   // threshold
);
composer.addPass(bloom);

// SSAO â€” ç¯å¢ƒå…‰é®è”½ï¼Œå¢åŠ ç«‹ä½“æ„Ÿ
const ssao = new SSAOPass(scene, camera, width, height);
ssao.kernelRadius = 8;
ssao.minDistance = 0.005;
ssao.maxDistance = 0.1;
composer.addPass(ssao);

// è‰²è°ƒæ˜ å°„ â€” åœ¨rendererä¸Šè®¾ç½®
renderer.toneMapping = THREE.ACESFilmicToneMapping; // æœ€å¸¸ç”¨
renderer.toneMappingExposure = 1.0;

composer.addPass(new OutputPass()); // å¿…é¡»æ”¾æœ€åï¼Œå¤„ç†è‰²å½©ç©ºé—´
```

**äº§å“å±•ç¤ºå¸¸ç”¨åå¤„ç†ä¼˜å…ˆçº§ï¼š**
1. âœ… è‰²è°ƒæ˜ å°„ï¼ˆå¿…é¡»ï¼Œrendererçº§åˆ«ï¼‰â€” ACES Filmic æœ€é€šç”¨
2. âœ… Bloomï¼ˆæ¨èï¼‰â€” è½»å¾®çš„ï¼Œstrength 0.1-0.3
3. âš ï¸ SSAOï¼ˆå¯é€‰ï¼‰â€” æ€§èƒ½å¼€é”€å¤§ï¼Œç§»åŠ¨ç«¯æ…ç”¨
4. âš ï¸ FXAA/SMAAï¼ˆå¯é€‰ï¼‰â€” å¦‚æœä¸ç”¨MSAAçš„è¯

### 2.4 3Dæ ¼å¼å¯¹æ¯”

| ç‰¹æ€§ | STL | GLTF/GLB | OBJ | FBX |
|------|-----|----------|-----|-----|
| **ç”¨é€”** | 3Dæ‰“å° | Webå±•ç¤º âœ… | é€šç”¨äº¤æ¢ | åŠ¨ç”» |
| **æè´¨** | âŒ æ—  | âœ… PBRå®Œæ•´ | âš ï¸ åŸºç¡€MTL | âœ… ä½†ä¸æ ‡å‡† |
| **åŠ¨ç”»** | âŒ | âœ… éª¨éª¼+å˜å½¢ | âŒ | âœ… |
| **å‹ç¼©** | âŒ | âœ… Draco/Meshopt | âŒ | âŒ |
| **æ–‡ä»¶å¤§å°** | å¤§ | å°(GLB) | ä¸­ | å¤§ |
| **åŠ è½½é€Ÿåº¦** | æ…¢ | å¿« | ä¸­ | æ…¢ |
| **Three.jsæ”¯æŒ** | âœ… STLLoader | âœ… GLTFLoader | âœ… OBJLoader | âš ï¸ FBXLoader |

**ç»“è®ºï¼šWebå±•ç¤ºé¦–é€‰ GLBï¼ˆäºŒè¿›åˆ¶GLTFï¼‰ï¼Œä½†æˆ‘ä»¬çš„3Dæ‰“å°åœºæ™¯ç”¨STLä¹Ÿå®Œå…¨OKï¼Œåªæ˜¯éœ€è¦è‡ªå·±åŠ æè´¨ã€‚**

### 2.5 è‡ªé€‚åº”ç”»è´¨

```javascript
function getQualityLevel() {
  const gl = renderer.getContext();
  const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
  const gpu = debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : '';
  const isMobile = /Mobile|Android|iPhone/i.test(navigator.userAgent);
  const memory = navigator.deviceMemory || 4; // GB
  
  if (isMobile || memory <= 2) return 'low';
  if (gpu.includes('Intel') || memory <= 4) return 'medium';
  return 'high';
}

function applyQuality(level) {
  switch (level) {
    case 'low':
      renderer.setPixelRatio(1);
      renderer.shadowMap.enabled = false;
      // æ— åå¤„ç†ï¼Œæ— SSAO
      break;
    case 'medium':
      renderer.setPixelRatio(Math.min(devicePixelRatio, 1.5));
      renderer.shadowMap.enabled = true;
      // è½»é‡Bloom
      break;
    case 'high':
      renderer.setPixelRatio(Math.min(devicePixelRatio, 2));
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      // å…¨éƒ¨åå¤„ç†
      break;
  }
}
```

---

## 3. æœ¬åœ°æ–‡ä»¶åŠ è½½æ–¹æ¡ˆ

### 3.1 file:// åè®®çš„ CORS é—®é¢˜

**é—®é¢˜**ï¼šæµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œ`file://` ä¸‹çš„ JS æ¨¡å— importã€fetchã€Worker éƒ½ä¼šè¢« CORS ç­–ç•¥é˜»æ­¢ã€‚

**è§£å†³æ–¹æ¡ˆï¼ˆæ¨èåº¦æ’åºï¼‰ï¼š**

1. **âœ… æœ¬åœ° HTTP æœåŠ¡å™¨ï¼ˆæœ€æ¨èï¼‰**
   ```bash
   # Python
   python3 -m http.server 8080
   
   # Node.js
   npx serve .
   
   # æ›´å¼ºå¤§çš„
   npx vite --open
   ```

2. **âœ… å•æ–‡ä»¶å†…åµŒï¼ˆæˆ‘ä»¬çš„æ–¹æ¡ˆï¼‰**
   - Three.js ç”¨ `<script>` æ ‡ç­¾å†…è”æˆ– importmap æŒ‡å‘æœ¬åœ°æ–‡ä»¶
   - æ¨¡å‹ç”¨ base64 data URI å†…åµŒ
   - çº¹ç†ç”¨ base64 å†…åµŒ
   - å®Œå…¨é›¶ä¾èµ–ï¼ŒåŒå‡»æ‰“å¼€å°±èƒ½ç”¨

3. **âš ï¸ æµè§ˆå™¨ç¦ç”¨å®‰å…¨ç­–ç•¥ï¼ˆå¼€å‘ç”¨ï¼‰**
   ```bash
   # Chrome
   open -a "Google Chrome" --args --allow-file-access-from-files --disable-web-security
   ```
   ä¸æ¨èç”¨äºç”Ÿäº§ã€‚

### 3.2 importmap vs script æ ‡ç­¾

```html
<!-- æ–¹æ¡ˆA: importmapï¼ˆç°ä»£ï¼Œæ¨èï¼‰ -->
<script type="importmap">
{
  "imports": {
    "three": "./node_modules/three/build/three.module.js",
    "three/addons/": "./node_modules/three/examples/jsm/"
  }
}
</script>
<script type="module">
import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
</script>

<!-- æ–¹æ¡ˆB: ä¼ ç»Ÿscriptæ ‡ç­¾ï¼ˆå…¼å®¹æ€§æœ€å¥½ï¼Œfile://å‹å¥½ï¼‰ -->
<script src="https://unpkg.com/three@0.170.0/build/three.min.js"></script>
<script src="https://unpkg.com/three@0.170.0/examples/js/controls/OrbitControls.js"></script>
<!-- æ³¨æ„ï¼šexamples/js/ åœ¨ r163+ å·²ç§»é™¤ï¼åªèƒ½ç”¨ module ç‰ˆæœ¬ -->

<!-- æ–¹æ¡ˆC: å•æ–‡ä»¶å†…åµŒï¼ˆæˆ‘ä»¬é€‰çš„ï¼‰ -->
<!-- ä»CDNä¸‹è½½three.module.min.jsï¼Œé€šè¿‡æ„å»ºå·¥å…·æ‰“åŒ…æˆå•æ–‡ä»¶ -->
<!-- æˆ–è€…ç”¨ ES Module + importmap æŒ‡å‘ CDN -->
<script type="importmap">
{
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js",
    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/"
  }
}
</script>
```

### 3.3 Three.js ç‰ˆæœ¬é€‰æ‹©

| ç‰ˆæœ¬ | å‘å¸ƒæ—¶é—´ | è¯´æ˜ |
|------|----------|------|
| r170 (0.170.0) | 2024-12 | æœ€æ–°ç¨³å®šç‰ˆï¼ŒWebGPUæ”¯æŒæ”¹è¿› |
| r168 (0.168.0) | 2024-10 | ç¨³å®šï¼ŒMeshPhysicalMaterialæ”¹è¿› |
| r163 (0.163.0) | 2024-04 | âš ï¸ ç§»é™¤äº† examples/jsï¼ˆçº¯ESMï¼‰ |
| r152 (0.152.0) | 2023-05 | æœ€åæ”¯æŒ examples/js çš„å¤§ç‰ˆæœ¬ |

**æ¨èï¼šr170**ï¼ˆæœ€æ–°ç¨³å®šç‰ˆï¼‰ï¼Œç”¨ ES Module + importmapã€‚å¦‚æœéœ€è¦ä¼ ç»Ÿ script æ ‡ç­¾å…¼å®¹ï¼Œç”¨ r152ã€‚

### 3.4 ç¦»çº¿å¯ç”¨æ–¹æ¡ˆ

**æ–¹æ¡ˆï¼šCDN fallback + æœ¬åœ°ç¼“å­˜**

```html
<script type="importmap">
{
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js",
    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/"
  }
}
</script>
```

é¦–æ¬¡åŠ è½½åæµè§ˆå™¨ä¼šç¼“å­˜ã€‚å¦‚æœéœ€è¦å®Œå…¨ç¦»çº¿ï¼š
1. ä¸‹è½½ three.module.js åˆ°æœ¬åœ°
2. ä¸‹è½½æ‰€éœ€çš„ addonsï¼ˆOrbitControls, STLLoaderç­‰ï¼‰
3. importmap æŒ‡å‘æœ¬åœ°è·¯å¾„
4. ç”¨æœ¬åœ°HTTPæœåŠ¡å™¨è®¿é—®

**æˆ‘ä»¬æ¨¡æ¿çš„ç­–ç•¥ï¼šç”¨CDN importmapï¼Œç®€å•å¯é ã€‚éœ€è¦ç¦»çº¿æ—¶åˆ‡æ¢æˆæœ¬åœ°è·¯å¾„ã€‚**

---

## 4. äº§å“å±•ç¤ºæ¨¡æ¿è®¾è®¡è¦ç‚¹

è§ `/Volumes/T7 Shield/realworldclaw/tools/render/threejs-product-viewer.html`

### è®¾è®¡å†³ç­–ï¼š
- **CDN importmap** åŠ è½½ Three.js r170 â€” ç®€å•ã€å¯ç¼“å­˜
- **STL base64 å†…åµŒ** â€” å…¼å®¹ file:// åè®®
- **Procedural ç¯å¢ƒå…‰** â€” ä¸éœ€è¦é¢å¤–HDRIæ–‡ä»¶ï¼Œç”¨ PMREMGenerator ä»åœºæ™¯ç”Ÿæˆ
- **MeshPhysicalMaterial** ç™½è‰²å¡‘æ–™é¢„è®¾ â€” æœ€é€‚åˆ3Dæ‰“å°é¢„è§ˆ
- **OrbitControls** + è‡ªåŠ¨æ—‹è½¬ â€” äº¤äº’ + å±•ç¤ºåŒæ¨¡å¼
- **URLå‚æ•°** â€” `?autoRotate=false&cameraAngle=45` å¯æ§åˆ¶è¡Œä¸º
- **å“åº”å¼** â€” è‡ªåŠ¨é€‚é…çª—å£å¤§å°
- **è½»é‡åå¤„ç†** â€” åªç”¨è‰²è°ƒæ˜ å°„ï¼Œä¸åŠ Bloom/SSAOï¼ˆä¿æŒè½»é‡ï¼‰

### STL å†…åµŒæ–¹æ³•ï¼š
```bash
# ç”Ÿæˆ base64
base64 -i model.stl | tr -d '\n' > model.b64
# ç„¶åç²˜è´´åˆ° HTML çš„ MODEL_BASE64 å˜é‡ä¸­
```

---

## å…³é”®ç»éªŒæ€»ç»“ ğŸ¯

1. **ç¯å¢ƒå…‰ > ç›´å°„å…‰** â€” äº§å“å±•ç¤º80%çš„è´¨æ„Ÿæ¥è‡ªç¯å¢ƒè´´å›¾
2. **ACESè‰²è°ƒæ˜ å°„å¿…å¼€** â€” è®©é«˜å…‰è‡ªç„¶è¿‡æ¸¡ï¼Œä¸çˆ†ç™½
3. **GLB > STL** â€” Webå±•ç¤ºé¦–é€‰GLBï¼Œä½†3Dæ‰“å°ç”¨STLä¹Ÿå¤Ÿç”¨ï¼ˆè‡ªå·±åŠ æè´¨ï¼‰
4. **Proceduralç¯å¢ƒå¯ä»¥å¾ˆå¥½** â€” ä¸ä¸€å®šéœ€è¦HDRIæ–‡ä»¶
5. **åƒç´ æ¯”æ§åˆ¶åœ¨2ä»¥å†…** â€” `setPixelRatio(Math.min(dpr, 2))`ï¼ŒMac Retinaä¼šçˆ†æ˜¾å­˜
6. **OrbitControlsçš„damping** â€” `enableDamping: true` è®©æ—‹è½¬æœ‰ç‰©ç†æ„Ÿ
7. **å•æ–‡ä»¶HTML** â€” å¯¹äºå·¥å…·ç±»é¡µé¢ï¼Œå•æ–‡ä»¶æ¯”npmé¡¹ç›®æ›´å®ç”¨
