# RealWorldClaw — Product Architecture v2

> Energy Core 是核心板，不是产品。产品 = Core + Body + Sensors。

---

## 四层架构

```
┌─────────────────────────────────────────┐
│  Layer 4: AI Software（AI软件）          │  ← 定义智能
│  Cloud AI + Edge firmware               │
├─────────────────────────────────────────┤
│  Layer 3: Sensors/Actuators（传感器）     │  ← 定义能力
│  通过 RWC Bus 连接                       │
├─────────────────────────────────────────┤
│  Layer 2: Body Shell（3D打印外壳）       │  ← 定义形态
│  容纳 Core + 传感器的物理结构             │
├─────────────────────────────────────────┤
│  Layer 1: Energy Core（核心板）          │  ← 所有产品共用
│  ESP32-S3 + 屏幕 + 麦克风 + 扬声器 + 电池 │
└─────────────────────────────────────────┘
```

**类比：** CPU 装进不同机箱、搭配不同外设 = 不同电脑。Energy Core 装进不同 Body、搭配不同传感器 = 不同 AI 设备。

---

## Layer 1: Energy Core 规格

### 核心硬件

| 组件 | 规格 |
|---|---|
| 主控 | ESP32-S3-WROOM-1（N16R8）双核 240MHz，16MB Flash，8MB PSRAM |
| 显示 | 1.46" 圆形 TFT 触摸屏（480×480，电容触摸） |
| 音频输入 | MEMS 麦克风（I2S） |
| 音频输出 | 1W 扬声器（I2S DAC） |
| 电池 | 3.7V 500mAh LiPo（续航约4小时待机） |
| 充电 | USB-C，5V/1A |
| 连接 | Wi-Fi 2.4GHz + BLE 5.0 |
| 扩展 | RWC Bus（见下方接口定义） |

### 标准化尺寸（暂定）

```
┌──────────────┐
│              │  42mm
│  Energy Core │
│              │  42mm
└──────────────┘
厚度：12mm（含电池）
```

- 圆形 PCB，直径 42mm
- 底部 RWC Bus 连接器
- 顶部圆形屏幕居中

### RWC Bus 接口定义

8-pin 弹簧针/磁吸连接器：

| Pin | 名称 | 功能 |
|---|---|---|
| 1 | VCC | 3.3V 电源输出（最大 500mA） |
| 2 | GND | 地 |
| 3 | SDA | I2C 数据 |
| 4 | SCL | I2C 时钟 |
| 5 | TX | UART 发送 |
| 6 | RX | UART 接收 |
| 7 | GPIO_A | 通用 IO / ADC / PWM |
| 8 | GPIO_B | 通用 IO / ADC / PWM |

### 电气规格

- 工作电压：3.3V
- I2C：400kHz（Fast Mode）
- UART：115200 baud 默认
- GPIO_A/B：支持 ADC（12-bit）、PWM、数字 IO
- 总扩展电流：500mA max（超过需外部供电）

---

## Layer 2: Body Shell 标准

### Energy Core 安装槽

```
          ┌─ 卡扣凸起（3处，120°均布）
          │
    ╭─────●─────╮
    │   ○42.4mm○ │  ← 安装槽内径 42.4mm（0.4mm 间隙）
    │    Core    │
    ╰─────●─────╯
          │
          └─ 底部开口（RWC Bus 连接器通过）
```

- 安装槽深度：12.5mm
- 固定方式：3处卡扣，120°均布，工具-free 拆装
- 底部留出 RWC Bus 连接器通道

### RWC Bus 接口位置

- 位于 Body Shell 底部中心
- 母座（Body Shell 侧）对接 Energy Core 底部公针
- 传感器通过内部走线连接到 Bus 母座

### 传感器安装点

- Body Shell 可定义 1-4 个标准传感器安装位
- 推荐使用 M2 螺丝或卡扣固定
- 传感器通过排线连接到 RWC Bus breakout board

### 3D 打印设计指南

| 参数 | 推荐值 |
|---|---|
| 最小壁厚 | 1.5mm |
| Energy Core 安装槽公差 | +0.2mm 单边 |
| 卡扣悬臂厚度 | 1.2mm |
| 层高 | 0.2mm |
| 填充率 | 20%（外壳）/ 40%（结构件） |
| 推荐材料 | PLA（一般）/ PETG（耐温）/ TPU（防摔） |
| 支撑 | 尽量设计为无支撑可打印 |
| 打印时间目标 | < 4 小时（单个外壳） |

---

## Layer 3: Sensors/Actuators

传感器通过 RWC Bus 连接，使用 I2C 或 UART 通信。每个传感器模块需要：

1. 标准 RWC Bus 接口
2. 固件驱动（ESPHome 组件 or 自定义）
3. AI 能力描述文件（告诉 AI 这个传感器能做什么）

---

## Layer 4: AI Software

- **Edge（ESP32-S3）：** 传感器采集、本地 VAD、屏幕动画、离线基础功能
- **Cloud AI：** 语音理解、决策、对话、复杂推理
- **协议：** WebSocket → OpenClaw Gateway → 任何 AI 后端

---

## 首发 5 种形态

### 形态 1: Desktop Companion（桌面伴侣）🖥️

**用途定位：** 桌面AI伴侣，日常对话、提醒、情绪陪伴、番茄钟。

**外壳设计方向：**
- 圆润可爱的桌面小摆件，高约 6cm
- 正面露出圆形屏幕（显示表情）
- 底部加重（稳定不倒）
- 风格参考：小型桌面玩偶

**搭配传感器：** 无（纯 Energy Core 能力）

**BOM 成本估算：**

| 项目 | 成本 |
|---|---|
| Energy Core 核心板 | ¥120 |
| 3D 打印外壳（PLA ~30g） | ¥5 |
| **总计** | **¥125** |

**AI 能力：**
- 语音对话（问答、闲聊、翻译）
- 屏幕表情（开心、思考、睡觉等）
- 定时提醒 / 番茄钟
- 天气 / 新闻播报

---

### 形态 2: Plant Guardian（植物守护者）🌱

**用途定位：** 智能植物养护，监测土壤并自动浇水。

**外壳设计方向：**
- 花盆插入式设计，像一朵"花"插在土里
- 或花盆边缘夹持式
- 防水设计（底部密封）
- 自然/有机风格

**搭配传感器：**
- 电容式土壤湿度传感器（I2C）
- 光照传感器（BH1750）
- 小型蠕动水泵（GPIO 控制）

**BOM 成本估算：**

| 项目 | 成本 |
|---|---|
| Energy Core 核心板 | ¥120 |
| 土壤湿度传感器 | ¥8 |
| 光照传感器 BH1750 | ¥5 |
| 蠕动水泵 + 硅胶管 | ¥15 |
| 3D 打印外壳（PETG ~45g） | ¥8 |
| **总计** | **¥156** |

**AI 能力：**
- 实时土壤湿度 / 光照监测
- 智能浇水决策（结合天气预报）
- 植物生长建议
- "你的绿萝渴了" 语音提醒

---

### 形态 3: Kitchen Brain（厨房大脑）🍳

**用途定位：** 厨房AI助手，辅助烹饪、称量食材、监控温度。

**外壳设计方向：**
- 冰箱磁吸式 或 台面摆放式
- 耐油污、易清洁设计（光滑表面）
- 屏幕朝向使用者（倾斜 15°）
- 温暖的厨房风格配色

**搭配传感器：**
- 食品级温度探针（K型热电偶 + MAX6675）
- HX711 称重模块 + 500g 压力传感器

**BOM 成本估算：**

| 项目 | 成本 |
|---|---|
| Energy Core 核心板 | ¥120 |
| K型热电偶 + MAX6675 | ¥12 |
| HX711 + 压力传感器 | ¥15 |
| 3D 打印外壳（PETG ~50g） | ¥9 |
| **总计** | **¥156** |

**AI 能力：**
- 语音菜谱指导（"现在加盐，小火焖3分钟"）
- 实时温度监控（"牛排芯温58°C，可以翻面了"）
- 食材称量（"已称量200g面粉"）
- 营养计算

---

### 形态 4: Home Sentinel（家庭哨兵）🏠

**用途定位：** 家庭安全监控，入侵检测、异常报警。

**外壳设计方向：**
- 壁挂式 或 桌面小塔式
- 摄像头模块朝外，屏幕朝内（显示状态）
- 低调不引人注目的设计
- 可选夜光指示灯

**搭配传感器：**
- PIR 人体红外传感器（HC-SR501）
- OV2640 摄像头模块（SPI）
- 可选：门磁传感器

**BOM 成本估算：**

| 项目 | 成本 |
|---|---|
| Energy Core 核心板 | ¥120 |
| PIR 传感器 HC-SR501 | ¥5 |
| OV2640 摄像头模块 | ¥18 |
| 3D 打印外壳（PLA ~40g） | ¥7 |
| **总计** | **¥150** |

**AI 能力：**
- 人体移动检测 + 智能报警
- 拍照取证（检测到异常时自动拍照）
- 区分家人 vs 陌生人（AI 视觉）
- 远程语音对讲
- "有人在门口，要帮你看看吗？"

---

### 形态 5: Explorer（探索者）🎒

**用途定位：** 户外探索伴侣，导航、环境监测、安全保障。

**外壳设计方向：**
- 背包挂件式 / 腕带式
- 防水防摔设计（TPU 外壳 + 密封圈）
- 紧凑轻量
- 户外风格（橙色/绿色）

**搭配传感器：**
- GPS 模块（NEO-6M）
- 气压计（BMP280，可算海拔）
- 温湿度传感器（SHT30）

**BOM 成本估算：**

| 项目 | 成本 |
|---|---|
| Energy Core 核心板 | ¥120 |
| GPS NEO-6M | ¥20 |
| BMP280 气压计 | ¥6 |
| SHT30 温湿度 | ¥8 |
| 3D 打印外壳（TPU ~35g） | ¥12 |
| 密封圈 | ¥3 |
| **总计** | **¥169** |

**AI 能力：**
- GPS 定位 + 路线记录
- 海拔 / 气压变化（天气预警）
- 环境温湿度播报
- 户外安全提醒
- "气压在下降，可能要下雨，建议找掩体"

---

## 用户购买 / 制造路径

```
1. 获取 Energy Core 核心板
   └─ 购买开发板（~¥120）或等待量产版

2. 选择形态
   └─ 浏览形态库，下载对应 STL 设计文件（免费开源）

3. 3D 打印外壳
   ├─ 自己打印（如果有打印机）
   └─ 通过 Maker Network 下单（社区成员代打印）

4. 购买对应传感器
   └─ 按形态 BOM 清单，淘宝/立创商城一键购买

5. 组装
   └─ 卡扣式设计，零工具，5分钟完成
       ├─ Energy Core 卡入安装槽
       ├─ 传感器卡入安装点
       └─ 排线连接 RWC Bus

6. 软件上线
   ├─ USB-C 刷固件（或 OTA）
   ├─ 连 WiFi
   └─ AI 上线，开始工作
```

**从拆快递到 AI 说出第一句话：< 30 分钟。**

---

## 开发者扩展

### 设计新 Body Shell

任何人都可以设计新形态：

1. 下载 Body Shell 设计模板（含 Energy Core 安装槽标准尺寸）
2. 用 FreeCAD / Fusion360 / OpenSCAD 设计外壳
3. 确保 RWC Bus 接口位置符合标准
4. 导出 STL，提交到社区形态库
5. 其他用户可以打印你的设计

### 适配新传感器

1. 确认传感器接口（I2C / UART / GPIO）
2. 编写 ESPHome 组件 或 Arduino 驱动
3. 编写 AI 能力描述文件（JSON）
4. 提交到传感器驱动库
5. 所有形态都可以使用这个传感器

### 开源协议

- Body Shell 设计文件：CC BY-SA 4.0
- 固件代码：MIT License
- AI 能力描述：CC0（公共领域）

---

## 成本结构总结

| 形态 | 总成本 | 传感器成本 | 打印成本 |
|---|---|---|---|
| Desktop Companion | ¥125 | ¥0 | ¥5 |
| Plant Guardian | ¥156 | ¥28 | ¥8 |
| Kitchen Brain | ¥156 | ¥27 | ¥9 |
| Home Sentinel | ¥150 | ¥23 | ¥7 |
| Explorer | ¥169 | ¥34 | ¥15 |

**所有形态共享同一块 ¥120 的 Energy Core。** 切换形态只需要换壳+换传感器。

---

*Last updated: 2026-02-21*
