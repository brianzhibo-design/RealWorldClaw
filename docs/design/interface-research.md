# 模块化电子硬件接口标准调研报告

> 调研人：沸羊羊🐏（调研总监）  
> 日期：2026-02-20  
> 目的：为 RealWorldClaw "AI硬件的乐高" 模块接口标准提供参考

---

## 目录

1. [M5Stack](#1-m5stack)
2. [Grove 系统（Seeed Studio）](#2-grove-系统seeed-studio)
3. [Qwiic / STEMMA QT](#3-qwiic--stemma-qt)
4. [mikroBUS / Click Boards](#4-mikrobus--click-boards)
5. [Arduino Shield](#5-arduino-shield)
6. [Raspberry Pi HAT](#6-raspberry-pi-hat)
7. [LEGO Mindstorms](#7-lego-mindstorms)
8. [LittleBits](#8-littlebits)
9. [SAM Labs](#9-sam-labs)
10. [Keyestudio / DFRobot](#10-keyestudio--dfrobot)
11. [对比总结表](#11-对比总结表)
12. [分析与建议](#12-分析与建议)

---

## 1. M5Stack

### 机械连接
- **尺寸**：标准核心 54×54×17mm，模块同宽可堆叠
- **固定方式**：M-Bus 公母排针堆叠 + 磁铁辅助对齐（部分型号）
- **对齐机制**：外壳四角卡扣 + 排针物理对齐

### 电气接口
- **M-Bus**：底部双排共 30pin（2×15），包含电源（5V/3.3V/GND）、GPIO、I2C（SDA/SCL on G21/G22）、SPI、UART、ADC/DAC
- **电压**：3.3V 逻辑，5V USB 供电
- **Grove Port A**：侧面 4pin Grove（I2C），部分型号有 Port B（GPIO/ADC）和 Port C（UART）

### 通信标准
- I2C、SPI、UART 均通过 M-Bus 引出
- Wi-Fi/BT 内置（ESP32）

### 模块自动识别
- **无标准自动识别机制**。模块需要用户在软件中手动配置
- 部分 Unit（Grove 传感器）通过 I2C 地址区分

### 优缺点
| 优点 | 缺点 |
|------|------|
| 堆叠式设计紧凑美观 | M-Bus 30pin 对齐要求高 |
| 生态丰富，软件完善（UIFlow） | 堆叠层数有限（通常3-4层） |
| 工业级外壳，可直接用于产品 | 价格偏高 |
| 同时支持 Grove 扩展 | 私有标准，无法跨品牌 |

### 生态规模
- 核心控制器：~15 款（Basic/Core2/CoreS3/StickC/Atom 等）
- 可堆叠模块（Module）：~40 款
- Grove Unit：~150+ 款
- **价格**：核心 ¥100-400，模块 ¥30-200

---

## 2. Grove 系统（Seeed Studio）

### 机械连接
- **连接器**：标准 4pin HY2.0（2.0mm 间距）白色连接器
- **尺寸**：模块 PCB 大小不统一（20×20mm 到 40×20mm 不等），有统一安装孔
- **固定方式**：线缆连接，非刚性堆叠
- **对齐机制**：连接器本身防呆（有凸键）

### 电气接口
- **4pin 统一定义**：
  - Pin 1: Signal（或 SCL/TX/D）
  - Pin 2: Signal（或 SDA/RX/D）
  - Pin 3: VCC（3.3V 或 5V，取决于主控）
  - Pin 4: GND
- **电压**：3.3V 或 5V（大部分模块兼容两者）

### 通信标准
- 按颜色区分线缆/接口类型：
  - **蓝色**：I2C（SCL/SDA）
  - **黄色**：模拟信号（Analog）
  - **白色**：数字信号（Digital）
  - **红色**：UART（TX/RX）

### 模块自动识别
- **无自动识别**。用户需知道接口类型并接到对应端口
- I2C 设备可通过地址扫描发现

### 优缺点
| 优点 | 缺点 |
|------|------|
| 极简 4pin，新手友好 | 线缆连接松散，不够紧凑 |
| 生态最大，模块最多 | 无模块识别能力 |
| 跨平台（Arduino/RPi/XIAO/micro:bit） | 4pin 限制了高速通信 |
| 成本低廉 | 机械固定依赖外部结构 |

### 生态规模
- **400+ 模块**，覆盖传感器/执行器/显示/通信
- 被 Arduino 官方、Adafruit、DFRobot 等兼容
- **价格**：¥10-80 每模块，Base Shield ¥30

---

## 3. Qwiic / STEMMA QT

### 机械连接
- **连接器**：JST SH 4pin（1.0mm 间距），极小
- **标准板尺寸**：25.4×25.4mm（1"×1"）；Qwiic Micro: 19×7.6mm
- **固定方式**：线缆连接 + 安装孔（M2.5 或 #4-40）
- **对齐机制**：JST SH 极化连接器（防反插）

### 电气接口
- **4pin 定义**：GND / 3.3V / SDA / SCL
- **电压**：严格 3.3V（SparkFun 要求板载电平转换）
- 线缆颜色：黑(GND)、红(3.3V)、蓝(SDA)、黄(SCL)

### 通信标准
- **仅 I2C**，支持菊花链（Daisy Chain）
- 大部分板有 2 个 Qwiic 口用于级联

### 模块自动识别
- **依赖 I2C 地址扫描**。无额外识别协议
- 地址冲突时需手动用跳线调整

### 优缺点
| 优点 | 缺点 |
|------|------|
| 即插即用，无焊接 | 仅 I2C，无法传高速数据 |
| 极化防错 | 1.0mm JST 太小，不适合手工 |
| 菊花链扩展灵活 | 3.3V 限制（5V 设备不兼容） |
| SparkFun + Adafruit 双生态 | 线缆连接不够牢固 |
| 开放标准（免费使用 Qwiic 名称） | I2C 地址冲突管理困难 |

### 生态规模
- SparkFun Qwiic：**300+ 板卡**
- Adafruit STEMMA QT：**200+ 板卡**
- 第三方兼容大量
- **价格**：¥20-100 每板

---

## 4. mikroBUS / Click Boards（MikroElektronika）

### 机械连接
- **连接器**：2×8pin 排母（2.54mm 间距），共 16pin
- **板卡尺寸**：统一 42.9×25.4mm（带圆角）
- **固定方式**：排针插入 + 可选螺丝安装孔
- **对齐机制**：不对称排针间距（左侧 8pin 与右侧 8pin 距离固定 22.86mm）

### 电气接口
- **16pin 标准定义**：
  - 左侧 8pin：AN, RST, CS, SCK, MISO, MOSI, 3.3V, GND
  - 右侧 8pin：PWM, INT, TX, RX, SCL, SDA, 5V, GND
- **电压**：3.3V + 5V 双供电
- 覆盖：SPI / I2C / UART / ADC / PWM / GPIO

### 通信标准
- SPI、I2C、UART、模拟、PWM 全部在一个接口中
- 是目前**协议覆盖最全**的标准化接口

### 模块自动识别
- **mikroBUS 2.0 标准（2021）引入了 ID 机制**：
  - 使用 1-Wire 或 I2C EEPROM 存储模块信息
  - 主控可自动检测模块类型和所需驱动
- 旧版 1.0 无识别功能

### 优缺点
| 优点 | 缺点 |
|------|------|
| 协议最全（SPI/I2C/UART/ADC/PWM） | 16pin 比较复杂 |
| 统一尺寸，可做标准槽位 | 品牌生态相对封闭 |
| 2.0 支持自动识别 | 模块单价高（$10-50） |
| 被 NXP/STM 等大厂采用 | 2.54mm 间距不够紧凑 |

### 生态规模
- **1400+ Click Boards**，全球最大标准化模块库
- 被 MIKROE、NXP、Microchip 等支持
- **价格**：$8-50（¥60-350）

---

## 5. Arduino Shield

### 机械连接
- **连接器**：Arduino UNO R3 标准排针布局（非等距！）
- **尺寸**：68.6×53.4mm（UNO 板尺寸）
- **固定方式**：排针堆叠 + 4 个安装孔
- **对齐机制**：非等距排针天然防错（历史原因：设计失误变成了特征）

### 电气接口
- **排针总计**：6(模拟) + 14(数字) + 电源区(6pin) + ICSP(6pin)
- **电压**：5V（UNO），部分板 3.3V
- 数字口含 PWM、I2C（A4/A5）、SPI（D10-D13）、UART（D0/D1）

### 通信标准
- I2C、SPI、UART、GPIO、ADC、PWM

### 模块自动识别
- **无**。完全手动配置

### 优缺点
| 优点 | 缺点 |
|------|------|
| 生态极大（数千种 Shield） | 非标准间距，PCB 设计麻烦 |
| 开源开放 | 5V 遗产问题 |
| 堆叠简单直观 | 堆叠不稳定（排针晃动） |
| 资料丰富 | 尺寸较大 |

### 生态规模
- **数千种 Shield**（全球最大）
- 几乎所有厂商都出 Arduino Shield
- **价格**：¥15-200

---

## 6. Raspberry Pi HAT

### 机械连接
- **连接器**：2×20 排针（40pin），2.54mm 间距
- **尺寸**：65×56.5mm（Pi 3/4 标准）或 pHAT 65×30mm
- **固定方式**：40pin 排针 + 4 颗 M2.5 铜柱
- **对齐机制**：排针 + 铜柱双重定位

### 电气接口
- **40pin 定义**：
  - 电源：5V×2, 3.3V×2, GND×8
  - GPIO：26 个通用 IO
  - 特殊功能：I2C×2, SPI×2, UART×1, PCM×1
- **电压**：3.3V 逻辑，5V 电源

### 通信标准
- I2C、SPI、UART、PCM/I2S、1-Wire
- GPIO 可软件配置多种协议

### 模块自动识别
- **有！HAT ID EEPROM 标准**：
  - HAT 规范要求板上有 ID EEPROM（连接到 I2C-0，ID_SD/ID_SC）
  - EEPROM 存储：厂商信息、产品 ID、GPIO 配置、Device Tree overlay
  - 系统启动时自动读取并配置
  - 这是**业界最成熟的模块自动识别标准**

### 优缺点
| 优点 | 缺点 |
|------|------|
| 标准成熟，有 HAT ID 规范 | 40pin 太多，对简单模块过度 |
| Linux 生态强大 | 尺寸大 |
| 自动识别 + Device Tree | 需要 Linux 系统 |
| 堆叠稳固（有铜柱） | 成本高 |

### 生态规模
- **500+ HAT/pHAT**
- Pimoroni、Adafruit、SparkFun、Waveshare 等大量第三方
- **价格**：¥30-300

---

## 7. LEGO Mindstorms

### 机械连接
- **EV3 连接器**：改装 RJ12（6P6C）电话线接口
- **固定方式**：RJ12 卡扣
- **端口**：输入×4，输出×4（EV3 Brick）
- **机械结构**：LEGO Technic 插孔/十字轴系统

### 电气接口
- **6pin RJ12**：
  - Pin 1: Analog (AN)
  - Pin 2: GND
  - Pin 3: GND
  - Pin 4: VCC (4.3V)
  - Pin 5: Digital I/O (SCL for I2C)
  - Pin 6: Digital I/O (SDA for I2C)
- **电压**：4.3V（电池供电）

### 通信标准
- 模拟电压 + I2C + UART（自动切换）
- EV3 输入口支持自动检测传感器模式

### 模块自动识别
- **有！Auto-ID 机制**：
  - EV3 传感器内置固件，通过 UART 握手协议报告设备类型
  - Brick 自动识别传感器并加载对应驱动
  - NXT 传感器使用模拟电压级别识别

### 优缺点
| 优点 | 缺点 |
|------|------|
| 自动识别传感器 | 完全封闭生态 |
| 机械系统完美（LEGO） | 电子模块种类少 |
| 极其坚固耐用 | 价格昂贵 |
| 教育领域王者 | 已停产（2022年底） |

### 生态规模
- 官方传感器/电机：~15 种
- 第三方兼容：~50 种
- **价格**：单个传感器 ¥100-300，整套 ¥2000-4000

---

## 8. LittleBits

### 机械连接
- **磁吸连接**：模块两端有磁铁 + 弹簧触点
- **方向性**：磁铁极性确保只能正确方向连接（**天才设计！**）
- **尺寸**：模块宽度统一 ~30mm，长度不等
- **对齐机制**：磁极 + 机械凸缘

### 电气接口
- **3pin 单向**：
  - VCC (5V)
  - Signal（模拟 0-5V）
  - GND
- **信号方向**：左入右出（Input → Output），磁极强制方向

### 通信标准
- **纯模拟信号**（0-5V）
- 部分高级模块内置 MCU 处理数字协议
- CloudBit 模块加入 Wi-Fi

### 模块自动识别
- **无电子识别**，但磁极物理防错等效于"类型识别"
  - 电源模块只能在最左
  - 输入/输出模块有方向性

### 优缺点
| 优点 | 缺点 |
|------|------|
| 磁吸即连，最佳 UX | 信号仅模拟，能力有限 |
| 物理防错（极性+方向） | 生态已衰退（被 Sphero 收购） |
| 零学习成本 | 不支持数字通信 |
| 适合教育和快速原型 | 模块昂贵 |

### 生态规模
- ~80 种模块
- **价格**：单模块 $10-20（¥70-140），套件 $100-300
- ⚠️ 2023 年起已基本停产

---

## 9. SAM Labs

### 机械连接
- **无物理连接**——完全无线（蓝牙BLE）
- 每个模块独立供电（内置锂电池，USB 充电）
- **尺寸**：~40×40mm 小方块

### 电气接口
- 无模块间电气接口
- 每个模块自带 MCU + BLE + 电池 + 传感器/执行器

### 通信标准
- **蓝牙 BLE**（通过平板/电脑中转）
- App 端拖拽编程

### 模块自动识别
- **有**：BLE 广播自带设备类型信息，App 自动发现和识别模块

### 优缺点
| 优点 | 缺点 |
|------|------|
| 无线自由，无连接烦恼 | 每模块都需电池和 MCU，成本极高 |
| 自动发现识别 | 延迟高，不适合实时控制 |
| 教育体验好 | 续航问题 |
| | 生态小，已趋衰退 |

### 生态规模
- ~15 种模块
- 主要面向教育市场
- **价格**：套件 $100-300

---

## 10. Keyestudio / DFRobot

### Keyestudio
- **Easy Plug**：RJ11（4P4C）接口，类似电话线
  - 4pin：VCC/GND/Signal1/Signal2
  - 防呆（RJ11 卡扣）
- 也出 Grove 兼容和 Arduino Shield 产品

### DFRobot
- **Gravity 系统**：统一 3pin 接口（模拟/数字）或 4pin（I2C/UART）
  - 3pin：Signal/VCC(5V)/GND，使用 PH2.0 连接器
  - 4pin I2C：SCL/SDA/VCC/GND
  - 颜色编码：绿(数字)、蓝(模拟)、蓝(I2C)、红(UART)
- **IO 扩展板**：为 Arduino 提供统一 Gravity 接口

### 通信标准
- 模拟、数字、I2C、UART（与 Grove 类似但连接器不同）

### 模块自动识别
- **均无自动识别**

### 优缺点
| 优点 | 缺点 |
|------|------|
| 性价比极高（国产） | 品牌影响力不如前几个 |
| 模块种类丰富 | 接口标准不如 Grove 通用 |
| 防呆设计 | 无自动识别 |
| 教程资料多 | 与其他生态兼容性差 |

### 生态规模
- DFRobot Gravity：**300+ 模块**
- Keyestudio：**200+ 模块**
- **价格**：¥8-60（极具性价比）

---

## 11. 对比总结表

| 系统 | 连接方式 | Pin数 | 电压 | 协议 | 自动识别 | 模块数 | 单价(¥) |
|------|---------|-------|------|------|---------|--------|---------|
| M5Stack M-Bus | 排针堆叠 | 30 | 3.3/5V | I2C/SPI/UART | ❌ | ~200 | 30-400 |
| Grove | HY2.0 线缆 | 4 | 3.3/5V | I2C/模拟/数字/UART | ❌ | 400+ | 10-80 |
| Qwiic/STEMMA QT | JST SH 线缆 | 4 | 3.3V | I2C only | ❌(地址扫描) | 500+ | 20-100 |
| mikroBUS | 排母插槽 | 16 | 3.3/5V | I2C/SPI/UART/ADC/PWM | ✅(2.0) | 1400+ | 60-350 |
| Arduino Shield | 排针堆叠 | ~30 | 5V | I2C/SPI/UART/GPIO | ❌ | 数千 | 15-200 |
| RPi HAT | 排针堆叠 | 40 | 3.3/5V | I2C/SPI/UART/PCM | ✅(EEPROM) | 500+ | 30-300 |
| LEGO Mindstorms | RJ12 线缆 | 6 | 4.3V | I2C/UART/模拟 | ✅(UART握手) | ~65 | 100-300 |
| LittleBits | 磁吸触点 | 3 | 5V | 模拟 | ❌(物理防错) | ~80 | 70-140 |
| SAM Labs | 无线BLE | 0 | - | BLE | ✅(BLE广播) | ~15 | 套件制 |
| DFRobot Gravity | PH2.0 线缆 | 3/4 | 5V | 模拟/数字/I2C/UART | ❌ | 300+ | 8-60 |

---

## 12. 分析与建议

### 12.1 最适合3D打印结构的连接方式

**考虑因素**：FDM 打印精度 ±0.2mm，PLA/PETG 材质，模块需要可拆卸。

**推荐方案：磁吸 + Pogo Pin（弹簧顶针）组合**

理由：
1. **排针方案（M5Stack/Arduino/RPi）不适合**：0.2mm 精度无法可靠对齐 2.54mm 排针阵列，稍有偏差就插不进去
2. **线缆方案（Grove/Qwiic）可行但不够"乐高"**：缺乏堆叠/拼合的机械感
3. **磁吸（LittleBits）最适合 3D 打印**：
   - 磁铁嵌入打印件（5mm 圆形磁铁，常见方案）
   - 对打印精度要求低（±1mm 都能吸合）
   - 自对齐能力强
4. **Pogo Pin 解决电气接触**：
   - 弹簧顶针容忍 ±0.5mm 偏差
   - 配合磁铁定位，可靠接触
   - 比排针对精度的要求宽松一个数量级

**具体建议**：
- 模块四角嵌入 5×2mm 圆形钕磁铁（极性交错防错装）
- 中央 Pogo Pin 阵列（如 6-8pin，2.54mm 间距，行程 1mm）
- 磁铁提供 ~500g 吸力，足够固定小模块
- 3D 打印外壳预留磁铁孔和 Pogo Pin 安装位

### 12.2 最简单但够用的电气标准

**推荐：8pin 混合接口（借鉴 mikroBUS 精简版 + Grove 简洁性）**

```
Pin 定义（8pin）：
1. VCC (5V)        — 主电源
2. 3V3              — 3.3V 稳压（模块板载 LDO 亦可）
3. GND              — 地线
4. SDA (I2C)        — 数据（兼容 GPIO）
5. SCL (I2C)        — 时钟（兼容 GPIO）
6. TX/MOSI           — UART TX 或 SPI MOSI
7. RX/MISO           — UART RX 或 SPI MISO
8. ID                — 模块识别线（1-Wire）
```

**理由**：
- 4pin（Grove/Qwiic）太少，只能跑一种协议
- 16pin（mikroBUS）太多，成本和复杂度过高
- 40pin（RPi HAT）对模块化毫无必要
- **8pin 是甜蜜点**：覆盖 I2C + UART/SPI + 模块识别，满足 90% 场景
- 特殊高速需求（摄像头、显示屏）可用专用扩展口

### 12.3 模块自动识别最佳实践

**各系统识别机制对比**：

| 方法 | 代表 | 复杂度 | 可靠性 | 信息量 |
|------|------|--------|--------|--------|
| 无识别 | Grove/Qwiic | 零 | - | 零 |
| I2C 地址扫描 | Qwiic | 低 | 中（地址冲突） | 低 |
| UART 握手 | LEGO EV3 | 中 | 高 | 中 |
| ID EEPROM (I2C) | RPi HAT | 中 | 高 | 高 |
| 1-Wire ID | mikroBUS 2.0 | 低 | 高 | 高 |
| BLE 广播 | SAM Labs | 高 | 中 | 高 |
| 物理防错 | LittleBits | 零 | 高(方向) | 低 |

**推荐方案：1-Wire ID（仿 mikroBUS 2.0）**

理由：
1. **只需 1 根线**（上面 8pin 中的 ID pin）
2. 每个模块焊一颗 1-Wire EEPROM（如 DS28E05，成本 <¥2）
3. EEPROM 存储：
   ```json
   {
     "vendor": "realworldclaw",
     "type": "sensor.temperature",
     "model": "TMP117",
     "version": "1.0",
     "protocol": "i2c",
     "i2c_addr": "0x48",
     "pins": {"4": "SDA", "5": "SCL"},
     "driver": "tmp117"
   }
   ```
4. 主控上电时扫描 1-Wire 总线，自动发现所有模块
5. 每颗 1-Wire 芯片有全球唯一 64bit ID，天然防冲突
6. **对比 RPi HAT EEPROM**：RPi 方案需要专用 I2C 总线（ID_SD/ID_SC），我们用 1-Wire 更省资源

### 12.4 对 RealWorldClaw 的具体建议

#### 接口标准建议（RWC-BUS v1.0）

```
┌─────────────────────────────────────┐
│         RWC Module Interface        │
│                                     │
│    ┌──┐ ┌──┐     ┌──┐ ┌──┐        │
│    │M1│ │M2│     │M3│ │M4│  ← 4× 磁铁 (对角极性交错)
│    └──┘ └──┘     └──┘ └──┘        │
│                                     │
│         ① ② ③ ④ ⑤ ⑥ ⑦ ⑧          │
│         ○ ○ ○ ○ ○ ○ ○ ○  ← 8× Pogo Pin
│                                     │
│    Pin:  5V 3V3 GND SDA SCL TX RX ID│
└─────────────────────────────────────┘
```

#### 设计原则

1. **机械层**
   - 模块标准尺寸：40×40mm（适合 3D 打印）
   - 四角嵌入 5×2mm 钕磁铁，对角极性反转（防 180° 错装）
   - Pogo Pin 区域居中，8pin 单排，间距 2.54mm
   - 外壳高度：10mm（不含 Pogo Pin 行程）
   - 六面可拼接（上下堆叠 + 四向水平扩展）

2. **电气层**
   - 主电源 5V（USB 标准，充裕）
   - 逻辑 3.3V（ESP32/RP2040 原生）
   - 模块内部自行降压/升压
   - 最大电流：5V 总线 2A，单模块建议 ≤500mA

3. **通信层**
   - 默认 I2C（简单传感器）
   - 可选 UART（需要更多数据的模块如 GPS、4G）
   - Pin 6/7 可复用为 SPI MOSI/MISO（固件配置）
   - 高速扩展：另设专用 FPC 接口（摄像头、显示屏）

4. **识别层**
   - Pin 8 跑 1-Wire 协议
   - 每模块必须有 1-Wire EEPROM
   - 主控上电自动枚举所有连接模块
   - 模块元数据支持 OTA 驱动下载

5. **软件层**
   - 模块即插即用：插入 → 1-Wire 识别 → 加载驱动 → 可用
   - 类似 USB HID 的体验，但面向嵌入式
   - RWC-SDK 提供统一 API

#### 分阶段实施

| 阶段 | 内容 | 时间 |
|------|------|------|
| v0.1 | 4pin Grove 兼容（先跑通，不造轮子） | 立即 |
| v0.2 | 8pin Pogo Pin 原型 + 磁吸外壳 | 1个月 |
| v0.3 | 加入 1-Wire ID 自动识别 | 2个月 |
| v1.0 | 完整 RWC-BUS 标准 + 首批10款模块 | 6个月 |

#### 成本估算（每模块额外成本）

| 组件 | 单价(¥) |
|------|---------|
| 4× 钕磁铁 5×2mm | 1.0 |
| 8× Pogo Pin（弹簧顶针） | 3.0 |
| 8× Pogo Pad（对应接触点） | 0.5 |
| 1-Wire EEPROM | 1.5 |
| 3D打印外壳 | 2.0 |
| **接口总成本** | **~¥8** |

这个成本完全可控，远低于 M5Stack 的接口成本，同时提供了比 Grove 更好的体验。

---

## 附录：关键参考链接

- M5Stack 文档：https://docs.m5stack.com
- Grove 系统：https://wiki.seeedstudio.com/Grove_System/
- SparkFun Qwiic：https://www.sparkfun.com/qwiic
- mikroBUS 规范：https://www.mikroe.com/mikrobus
- RPi HAT 规范：https://github.com/raspberrypi/hats
- DFRobot Gravity：https://www.dfrobot.com/gravity

---

*报告完毕。如有需要深入调研某个具体系统的实现细节，随时安排。—— 沸羊羊🐏*
