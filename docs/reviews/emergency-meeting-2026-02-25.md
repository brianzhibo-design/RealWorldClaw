# 🚨 紧急全员复盘会议 — 2026-02-25 16:43

> 背景：地图页面在2小时内连续出现6+个低级错误，大人忍无可忍叫停全部工作。

---

## 一、今日地图事故清单

| # | 错误 | 严重度 | 本应谁发现 | 实际谁发现 |
|---|------|--------|-----------|-----------|
| 1 | 复杂动画导致交互bug | 中 | 慢羊羊审查 | 大人 |
| 2 | "Coming Soon"占位上线 | 高（明令禁止） | 蛋蛋任务分配时 | 大人 |
| 3 | 导航栏嵌套（双header） | 高 | 慢羊羊审查 | 大人 |
| 4 | 国家点亮完全不生效（country_code为null） | 高 | 蛋蛋自测时 | 大人 |
| 5 | 粗暴隐藏Header导致导航消失+登录不一致 | 高 | 蛋蛋修复时应想清楚 | 大人 |
| 6 | 左侧三个面板（stats+filter+list）重叠 | 高 | 蛋蛋任何时候看一眼页面 | 大人 |

**共同特征：全部是"打开页面看一眼就能发现"的问题，但没有任何人看过页面。**

---

## 二、各员工自评+互评

### 🥚 蛋蛋（GM）— 自评：2/10

**问题：**
- 追求速度放弃质量，2小时推了8个commit，每个都有新问题
- 任务分配时没有把禁止清单（Coming Soon等）写进要求
- 审查只看"build通过+测试通过"，从未打开页面看效果
- 修bug时没有全局思考，头痛医头，改一个引入另一个
- 并行5个子agent，产出速度快但质量完全失控
- 没有听大人的话——大人说"不要过度复杂"、"先调研方案"，我表面答应但执行时仍然急躁

**最严重的错误：** 作为GM，我应该是质量的最后一道防线，但我变成了质量问题的源头。

### 🧓 慢羊羊（Deputy GM）— 评分：3/10

**问题：**
- 审查流于形式——只读代码、不看效果，形同虚设
- 差异化方案写得不错（8/10），但代码审查严重失职
- 没有发现导航嵌套、Coming Soon、布局重叠等一眼可见的问题
- 作为质量把关的副总经理，你的审查通过了所有有bug的代码

**应有的表现：** 审查时应该要求"截图/URL验证"，拒绝纯代码审查。

### 🎀 美羊羊（CTO/前端）— 评分：4/10

**问题：**
- 地图组件写得过于复杂（从144行膨胀到300+行）
- 加了太多不稳定的动画效果，没有自测
- 布局定位（absolute + 各种top offset）没有整体规划，随意堆砌
- 加了"Coming Soon"——应该知道这是禁止项

**肯定：** 认证动画做得还行，Agent Profile页面质量可以。但地图部分严重拉低整体。

### 🐺 小灰灰（后端）— 评分：7/10

**问题：**
- 后端代码质量尚可，232测试通过
- 但nodes表没有在注册时填充country_code，导致前端点亮功能无数据可用
- 作为后端应该意识到前端需要这个字段，主动填充

**肯定：** DM系统、头像上传、Moderation、Proof of Physical后端都完成了且测试通过。

---

## 三、根因分析（5-Why）

**现象：** 地图页面2小时内连续6个低级错误

**Why 1：** 因为没有任何人在deploy前打开页面看过效果
**Why 2：** 因为审查流程只包含"代码review+build+test"，没有视觉验证环节
**Why 3：** 因为GM（蛋蛋）定义的流程不包含视觉验证
**Why 4：** 因为GM追求速度，认为"build通过=可以上线"
**Why 5：** 因为GM没有真正理解"质量"——质量不是"不报错"，是"用户看到的是对的"

**根因：流程缺陷 + 质量意识缺失 + 速度优先的错误价值观**

---

## 四、整改措施

### 立即执行（今天）

1. **前端改动必须视觉验证**
   - 每次前端deploy前，蛋蛋必须用browser工具截图验证
   - 检查清单：导航栏正常？登录状态一致？布局不重叠？无Coming Soon？无mock数据？
   - 不截图不push

2. **审查清单制度化**
   - 慢羊羊审查前端代码时必须同时检查：
     - [ ] 全局导航是否正常（不嵌套、不消失）
     - [ ] 登录状态是否与全站一致
     - [ ] 页面布局是否重叠/遮挡
     - [ ] 是否包含Coming Soon/mock/fake
     - [ ] 移动端布局是否正常
   - 任何一项不通过则打回

3. **任务分配模板更新**
   - 每次分配前端任务必须包含：
     - 禁止清单：不要Coming Soon、不要mock、不要新增全局依赖（除非必要）
     - 布局约束：与全局Header/Nav的关系
     - 验收方式：build通过 + 视觉验证

### 中期执行（本周）

4. **降低并行度**
   - 前端任务最多同时1个子agent，做完验证后再派下一个
   - 后端可以并行（测试覆盖相对充分）

5. **视觉回归测试**
   - 关键页面（首页、地图、社区、登录）每次deploy后截图对比
   - 异常则阻断

6. **慢羊羊审查升级**
   - 慢羊羊代码审查必须包含"我验证了以下页面效果"的声明
   - 没有验证声明的审查不算通过

---

## 五、签字确认

- 🥚 蛋蛋（GM）：认识到错误，承诺执行整改。以后不再追求速度而牺牲质量。
- 🧓 慢羊羊（Deputy GM）：承诺审查包含视觉验证，不再做橡皮图章。
- 🎀 美羊羊（CTO）：承诺前端代码自测后再提交，不再堆砌复杂布局。
- 🐺 小灰灰（后端）：承诺后端字段设计考虑前端消费场景。

---

## 六、教训总结（写入MEMORY.md）

> **"build通过 ≠ 可以上线。用户看到的是对的，才是对的。"**
> **"改bug时先想全局，不要头痛医头。"**
> **"速度是能力，质量是底线。底线不能破。"**
