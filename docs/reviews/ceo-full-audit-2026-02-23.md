# æ€»ç»ç†äº²å®¡ â€” RealWorldClaw å…¨å¹³å°é—®é¢˜æ¸…å•

**å®¡æŸ¥äºº:** è›‹è›‹ğŸ¥šï¼ˆäº²è‡ªé€é¡µè¯»ä»£ç ï¼‰  
**æ—¥æœŸ:** 2026-02-23 21:58  

---

## ä¸€ã€æ¶æ„çº§é—®é¢˜

### A1. ä¸¤å¥—APIæ¨¡å—å…±å­˜
- `lib/api.ts` â€” æ—§æ¨¡å—ï¼Œæ‰‹åŠ¨ç®¡ç†tokenï¼ˆlocalStorageï¼‰
- `lib/api-client.ts` â€” æ–°æ¨¡å—(v2)ï¼Œç”¨zustand storeç®¡ç†token
- **13ä¸ªé¡µé¢ç”¨ api.tsï¼Œ4ä¸ªé¡µé¢ç”¨ api-client.ts**
- tokenå­˜å‚¨ä¸ä¸€è‡´ï¼šæœ‰çš„å­˜zustandï¼Œæœ‰çš„å­˜localStorageï¼Œæœ‰çš„ä¸¤è¾¹éƒ½å­˜
- **å½±å“ï¼š** ç™»å½•åæœ‰äº›é¡µé¢è®¤è¯æ­£å¸¸ï¼Œæœ‰äº›ä¸æ­£å¸¸

### A2. Spacesæ²¡æœ‰åç«¯æ”¯æŒ
- `SPACES` æ•°ç»„æ˜¯å‰ç«¯ç¡¬ç¼–ç çš„6ä¸ªåˆ†ç±»
- æ²¡æœ‰ `/api/v1/spaces` ç«¯ç‚¹
- å¸–å­é€šè¿‡ tags å…³è”åˆ° spacesï¼Œä½† spaces æœ¬èº«ä¸æ˜¯æ•°æ®åº“å®ä½“
- **æœ¬è´¨ï¼š** Spacesåªæ˜¯ç¤¾åŒºå¸–å­çš„æ ‡ç­¾åˆ†ç±»è§†å›¾ï¼Œä¸æ˜¯ç‹¬ç«‹åŠŸèƒ½

---

## äºŒã€é€é¡µé—®é¢˜æ¸…å•

### âœ… æ­£å¸¸å·¥ä½œçš„é¡µé¢ï¼ˆ7ä¸ªï¼‰

| é¡µé¢ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| `/` é¦–é¡µ | âœ… | çœŸå®APIæ•°æ® |
| `/auth/login` | âœ… | å·²ä¿®å¤token+user |
| `/auth/register` | âœ… | å·²ä¿®å¤token+user |
| `/auth/callback/github` | âœ… | OAuthå›è°ƒ |
| `/community` | âœ… | å¸–å­åˆ—è¡¨+æŠ•ç¥¨ |
| `/community/[id]` | âœ… | å¸–å­è¯¦æƒ…+è¯„è®º |
| `/map` | âœ… | èŠ‚ç‚¹åœ°å›¾ |

### âš ï¸ æœ‰é—®é¢˜ä½†åŸºæœ¬å¯ç”¨çš„é¡µé¢ï¼ˆ6ä¸ªï¼‰

| # | é¡µé¢ | é—®é¢˜ |
|---|------|------|
| P1 | `/community/new` | **æ— è®¤è¯æ£€æŸ¥** â€” æœªç™»å½•ç”¨æˆ·å¯ä»¥æ‰“å¼€å‘å¸–é¡µï¼ˆæäº¤ä¼šå¤±è´¥ä½†ä½“éªŒå·®ï¼‰ |
| P2 | `/makers/register` | è¡¨å•å·²å¯¹é½ï¼Œä½†**æäº¤åç¼ºå°‘æˆåŠŸåé¦ˆé¡µ** |
| P3 | `/register-node` | åŒä¸Šï¼Œä¸”ç»çº¬åº¦è¾“å…¥ä¸å‹å¥½ï¼ˆéœ€æ‰‹åŠ¨è¾“å…¥æ•°å­—ï¼‰ |
| P4 | `/orders/new` | è¡¨å•å·²å¯¹é½ï¼Œä½†**component_idå¿…å¡«å­—æ®µæ— æ•°æ®æº**ï¼ˆç”¨æˆ·ä¸çŸ¥é“å¡«ä»€ä¹ˆï¼‰ |
| P5 | `/dashboard` | APIè°ƒç”¨OKï¼Œä½† `/files/my` å’Œ `/nodes/my-nodes` éœ€è¦è®¤è¯ï¼Œ**æœªç™»å½•ç”¨æˆ·è®¿é—®ä¼šé™é»˜å¤±è´¥**ï¼ˆPromise.allSettledåé”™è¯¯ï¼‰ |
| P6 | `/submit` | æ–‡ä»¶ä¸Šä¼ XHRæ–¹å¼ï¼Œ**æœªç”¨ç»Ÿä¸€apiæ¨¡å—**ï¼Œtokenå–æ³•ä¸åŒ |

### ğŸ”´ æœ‰ä¸¥é‡é—®é¢˜çš„é¡µé¢ï¼ˆ8ä¸ªï¼‰

| # | é¡µé¢ | é—®é¢˜ |
|---|------|------|
| **P7** | `/search` | **3ç»„MOCKå‡æ•°æ®**ï¼ˆMOCK_AGENTS, MOCK_SPACES, MOCK_NODESï¼‰ï¼å¸–å­æœç´¢ç”¨å®¢æˆ·ç«¯è¿‡æ»¤è€ŒéæœåŠ¡ç«¯APIï¼ˆåç«¯ `/search` å·²å®ç°ä½†å‰ç«¯æ²¡ç”¨ï¼‰ |
| **P8** | `/orders` | è®¢å•åˆ—è¡¨è°ƒ `/orders` ä½†éœ€è®¤è¯ï¼Œ**æœªç™»å½•è®¿é—®ç©ºç™½æ— æç¤º** |
| **P9** | `/orders/[id]` | è°ƒç”¨ `/orders/{id}/cancel` å’Œ `/orders/{id}/confirm-delivery`ï¼Œ**è¿™ä¸¤ä¸ªç«¯ç‚¹åç«¯ä¸å­˜åœ¨**ï¼ˆè¿”å›404ï¼‰ã€‚åç«¯æœ‰ `/orders/{id}/confirm` ä½†è·¯å¾„ä¸åŒ¹é… |
| **P10** | `/maker-orders` | è°ƒç”¨ `/orders/available` å’Œ `/orders/{id}/claim`ï¼Œ**`/claim` ç«¯ç‚¹ä¸å­˜åœ¨**ï¼ˆåç«¯æœ‰ `/accept` ä¸æ˜¯ `/claim`ï¼‰ |
| **P11** | `/settings` | ä¿®æ”¹å¯†ç è°ƒ `/auth/change-password`ï¼Œ**ç«¯ç‚¹ä¸å­˜åœ¨**ï¼ˆ404ï¼‰ã€‚Profileéƒ¨åˆ†èƒ½å·¥ä½œ |
| **P12** | `/profile/[id]` | ç”¨æˆ·å¸–å­è¿‡æ»¤æ ‡æ³¨ "mock implementation"ï¼›è¯„è®ºåˆ—è¡¨è®¾ä¸ºç©ºæ•°ç»„ + TODOæ³¨é‡Š |
| **P13** | `/spaces` | 6ä¸ªSpacesæ˜¯**ç¡¬ç¼–ç å¸¸é‡**ï¼ŒmemberCountå›ºå®šä¸º0ï¼Œæ— åç«¯æ”¯æŒ |
| **P14** | `/spaces/[name]` | åŒä¸Šï¼Œ"New community"ç¡¬ç¼–ç æ–‡å­— |

---

## ä¸‰ã€åç«¯ç¼ºå¤±ç«¯ç‚¹

å‰ç«¯è°ƒç”¨ä½†åç«¯ä¸å­˜åœ¨çš„ç«¯ç‚¹ï¼š

| å‰ç«¯è°ƒç”¨ | åç«¯å®é™… | é¡µé¢ |
|---------|---------|------|
| `POST /orders/{id}/cancel` | ä¸å­˜åœ¨ | orders/[id] |
| `POST /orders/{id}/confirm-delivery` | `POST /orders/{id}/confirm` | orders/[id] |
| `POST /orders/{id}/claim` | `PUT /orders/{id}/accept` | maker-orders |
| `POST /auth/change-password` | ä¸å­˜åœ¨ | settings |

---

## å››ã€ä¿®å¤è®¡åˆ’

### ç«‹å³ä¿®ï¼ˆå½±å“æ ¸å¿ƒæµç¨‹ï¼Œå…±14é¡¹ï¼‰

**æœç´¢é¡µå‡æ•°æ®ï¼ˆP7ï¼‰ï¼š**
1. åˆ é™¤ MOCK_AGENTS, MOCK_SPACES, MOCK_NODES
2. æ”¹ç”¨åç«¯ `/search` API

**è®¢å•æµç¨‹ç«¯ç‚¹å¯¹é½ï¼ˆP9, P10ï¼‰ï¼š**
3. å‰ç«¯ `/orders/{id}/cancel` â†’ åç«¯éœ€å®ç°æˆ–å‰ç«¯æ”¹ç”¨ status update
4. å‰ç«¯ `/orders/{id}/confirm-delivery` â†’ æ”¹ä¸º `/orders/{id}/confirm`
5. å‰ç«¯ `/orders/{id}/claim` â†’ æ”¹ä¸º PUT `/orders/{id}/accept`

**Settingså¯†ç ä¿®æ”¹ï¼ˆP11ï¼‰ï¼š**
6. åç«¯å®ç° `POST /auth/change-password`

**è®¤è¯ä¿æŠ¤ï¼ˆP1, P5, P8ï¼‰ï¼š**
7. `/community/new` åŠ ç™»å½•æ£€æŸ¥
8. `/orders` åŠ ç™»å½•æ£€æŸ¥å’Œæç¤º
9. `/dashboard` åŠ ç™»å½•æ£€æŸ¥

**APIæ¨¡å—ç»Ÿä¸€ï¼ˆA1ï¼‰ï¼š**
10. æ‰€æœ‰é¡µé¢è¿ç§»åˆ° `api-client.ts`ï¼Œåˆ é™¤ `lib/api.ts`

**Spacesè¯šå®åŒ–ï¼ˆP13, P14ï¼‰ï¼š**
11. Spacesä¿ç•™ä½†æ˜ç¡®æ ‡æ³¨ä¸º"Topics"ï¼ˆæ ‡ç­¾åˆ†ç±»ï¼‰ï¼Œä¸ä¼ªè£…æˆç‹¬ç«‹ç¤¾åŒº

**ProfileçœŸå®åŒ–ï¼ˆP12ï¼‰ï¼š**
12. è¯„è®ºåŒºåŸŸæ˜¾ç¤º"Comments feature coming soon"è€Œéç©ºåˆ—è¡¨
13. ç”¨æˆ·å¸–å­è¿‡æ»¤ç”¨åç«¯APIï¼ˆå¦‚æœæœ‰æŒ‰authorè¿‡æ»¤çš„å‚æ•°ï¼‰

**è®¢å•åˆ›å»ºï¼ˆP4ï¼‰ï¼š**
14. component_idæ”¹ä¸ºå¯é€‰æˆ–æä¾›ç»„ä»¶åˆ—è¡¨é€‰æ‹©

---

*è›‹è›‹ğŸ¥š | 2026-02-23 21:58 | æ€»ç»ç†äº²å®¡*
