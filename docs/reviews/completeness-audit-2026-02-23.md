# å¹³å°å®Œæ•´æ€§å®¡æŸ¥æŠ¥å‘Š

**å®¡æŸ¥äºº:** è›‹è›‹ğŸ¥šï¼ˆæ€»ç»ç†äº²å®¡ï¼‰  
**æ—¥æœŸ:** 2026-02-23 23:23  
**èŒƒå›´:** 21ä¸ªå‰ç«¯é¡µé¢ Ã— 86ä¸ªåç«¯ç«¯ç‚¹ å®Œæ•´æ€§å¯¹ç…§

---

## ä¸€ã€é¡µé¢åŠŸèƒ½é“¾è·¯çŠ¶æ€ï¼ˆ21é¡µï¼‰

### âœ… å®Œå…¨å¯ç”¨ï¼ˆ10é¡µï¼‰
| é¡µé¢ | APIè°ƒç”¨ | çŠ¶æ€ |
|------|---------|------|
| `/` é¦–é¡µ | /nodes/map + /community/posts | âœ… å®æ—¶æ•°æ® |
| `/auth/login` | POST /auth/login | âœ… åŒè½¨ç™»å½• |
| `/auth/register` | POST /auth/register | âœ… åŒè½¨æ³¨å†Œ |
| `/auth/callback/github` | POST /auth/github | âœ… OAuthå›è°ƒ |
| `/community` | GET /community/posts + vote | âœ… å¸–å­åˆ—è¡¨+æŠ•ç¥¨ |
| `/community/[id]` | GET /community/posts/{id} + comments | âœ… å¸–å­è¯¦æƒ… |
| `/community/new` | POST /community/posts | âœ… å‘å¸–ï¼ˆéœ€ç™»å½•ï¼‰ |
| `/map` | GET /nodes/map via lib/nodes.ts | âœ… åœ°å›¾å±•ç¤º |
| `/search` | GET /search | âœ… æœç´¢ |
| `/settings` | GET /auth/me + POST /change-password | âœ… è®¾ç½® |

### âš ï¸ åŸºæœ¬å¯ç”¨ä½†æœ‰ç‘•ç–µï¼ˆ6é¡µï¼‰
| é¡µé¢ | é—®é¢˜ |
|------|------|
| `/dashboard` | âœ… å·¥ä½œï¼Œä½†fetchNodesè°ƒç”¨ `GET /nodes` å¯èƒ½ä¸å­˜åœ¨ï¼ˆç”¨çš„æ˜¯ /nodes/my-nodesï¼‰ |
| `/orders` | âœ… å·¥ä½œï¼Œéœ€ç™»å½• |
| `/orders/[id]` | âš ï¸ confirm/cancelè°ƒç”¨æ­£ç¡®ï¼Œä½†è®¢å•è¯¦æƒ…å±•ç¤ºä¾èµ–å®Œæ•´æ•°æ® |
| `/orders/new` | âš ï¸ component_idå·²æ”¹å¯é€‰ï¼Œä½†ç”¨æˆ·åˆ›å»ºè®¢å•çš„æµç¨‹ç¼ºå¼•å¯¼ |
| `/register-node` | âš ï¸ åŸå¸‚é€‰æ‹©å™¨OKï¼Œä½†æäº¤åèŠ‚ç‚¹çŠ¶æ€offlineï¼Œæ— å¿ƒè·³æœºåˆ¶è¯´æ˜ |
| `/submit` | âš ï¸ æ–‡ä»¶ä¸Šä¼ OKï¼Œä½†ä¸Šä¼ åæ²¡æœ‰æ˜ç¡®çš„ä¸‹ä¸€æ­¥ï¼ˆåº”å¼•å¯¼åˆ›å»ºè®¢å•ï¼‰ |

### ğŸ”´ æœ‰é—®é¢˜çš„é¡µé¢ï¼ˆ5é¡µï¼‰
| é¡µé¢ | é—®é¢˜ | ä¸¥é‡ç¨‹åº¦ |
|------|------|----------|
| `/maker-orders` | fetchOrders + accept OKï¼Œä½†å‰ç«¯æœ‰ç›´æ¥fetchå’Œå‡½æ•°æ··ç”¨ | ä¸­ |
| `/makers/register` | æäº¤OKä½†æˆåŠŸåè·³è½¬dashboardï¼ŒmakerçŠ¶æ€æ— æ³•åœ¨dashboardçœ‹åˆ° | ä¸­ |
| `/profile/[id]` | åªå±•ç¤ºç”¨æˆ·å¸–å­ï¼Œæ— å…¶ä»–profileä¿¡æ¯ï¼ˆèŠ‚ç‚¹ã€è®¢å•ï¼‰ | ä½ |
| `/spaces` `/spaces/[name]` | æœ¬è´¨æ˜¯æ ‡ç­¾åˆ†ç±»è§†å›¾ï¼ˆå·²æ”¹åTopicsï¼‰ï¼Œæ— åç«¯spaceså®ä½“ | ä½ |

---

## äºŒã€æ­»é“¾ï¼ˆ3ä¸ªï¼‰

| é“¾æ¥ | å‡ºç°ä½ç½® | ä¿®å¤æ–¹æ¡ˆ |
|------|---------|---------|
| `/auth/signin` | map/page.tsx:81 | æ”¹ä¸º `/auth/login` |
| `/docs` | community/new, community/[id] | æ”¹ä¸ºå¤–éƒ¨æ–‡æ¡£ç«™é“¾æ¥æˆ–åˆ é™¤ |
| `/popular` | components/Sidebar.tsx:59 | Sidebarå·²åºŸå¼ƒï¼Œåˆ é™¤æ–‡ä»¶ |

---

## ä¸‰ã€APIç«¯ç‚¹è¦†ç›–

### å‰ç«¯è°ƒç”¨ä½†åç«¯å¯èƒ½ç¼ºå¤±
| å‰ç«¯è°ƒç”¨ | åç«¯çŠ¶æ€ | å½±å“ |
|---------|---------|------|
| `GET /nodes` (fetchNodes) | âŒ å¯èƒ½ä¸å­˜åœ¨ï¼ˆæœ‰/nodes/mapå’Œ/nodes/my-nodesï¼‰ | dashboardé¡µé¢ |
| `POST /community/comments/{id}/vote` | â“ å¾…éªŒè¯ | è¯„è®ºæŠ•ç¥¨ |

### åç«¯å­˜åœ¨ä½†å‰ç«¯æœªä½¿ç”¨ï¼ˆ86ç«¯ç‚¹ä¸­çº¦50ä¸ªï¼‰
å¤§é‡åç«¯ç«¯ç‚¹å‰ç«¯æ²¡æœ‰å¯¹åº”é¡µé¢ï¼š
- `/agents/*` â€” AI agentç®¡ç†ï¼ˆå‰ç«¯åªæœ‰ç™»å½•é¡µé“¾æ¥API docsï¼‰
- `/devices/*` â€” ç¡¬ä»¶è®¾å¤‡ç®¡ç†
- `/components/*` â€” ç»„ä»¶åº“
- `/requests/*` â€” åˆ¶é€ è¯·æ±‚
- `/sim/*` â€” æ¨¡æ‹Ÿç«¯ç‚¹
- `/ai-agents/*`, `/ai-posts/*` â€” AIç¤¾åŒº
- `/admin/*` â€” ç®¡ç†åå°
- `/orders/{id}/messages` â€” è®¢å•æ¶ˆæ¯
- `/orders/{id}/review` â€” è®¢å•è¯„ä»·
- `/orders/{id}/shipping` â€” ç‰©æµ
- `/nodes/nearby`, `/nodes/match`, `/nodes/heartbeat` â€” èŠ‚ç‚¹åŒ¹é…

**è¯„ä¼°ï¼š** åç«¯åŠŸèƒ½è¿œè¶…å‰ç«¯å±•ç¤ºã€‚86ä¸ªç«¯ç‚¹ä¸­å‰ç«¯ä»…å¯¹æ¥çº¦30ä¸ªã€‚

---

## å››ã€æ ¸å¿ƒç”¨æˆ·æµç¨‹å®Œæ•´æ€§

### æµç¨‹1ï¼šæ–°ç”¨æˆ·æ³¨å†Œâ†’æµè§ˆâ†’å‘å¸– âœ…
æ³¨å†Œâ†’é¦–é¡µâ†’ç¤¾åŒºâ†’å‘å¸–â†’æŸ¥çœ‹ï¼Œå…¨é“¾è·¯é€š

### æµç¨‹2ï¼šæ³¨å†ŒèŠ‚ç‚¹â†’åœ°å›¾æ˜¾ç¤º âœ…
æ³¨å†Œâ†’å¡«è¡¨â†’é€‰åŸå¸‚â†’æäº¤â†’åœ°å›¾ä¸Šå¯è§

### æµç¨‹3ï¼šåˆ›å»ºè®¢å•â†’åˆ¶é€ â†’äº¤ä»˜ âš ï¸ éƒ¨åˆ†æ–­è£‚
- åˆ›å»ºè®¢å•ï¼šâš ï¸ ç¼ºå¼•å¯¼ï¼ˆç”¨æˆ·ä¸çŸ¥é“é€‰ä»€ä¹ˆï¼‰
- Makeræ¥å•ï¼šâœ… /maker-orderså¯æ¥
- çŠ¶æ€æ›´æ–°ï¼šâœ… status API
- äº¤ä»˜ç¡®è®¤ï¼šâœ… confirm API
- **ç¼ºå¤±ç¯èŠ‚ï¼š** ç”¨æˆ·æ²¡æ³•ä»"æµè§ˆèŠ‚ç‚¹"â†’"å‘è¯¥èŠ‚ç‚¹ä¸‹å•"çš„è‡ªç„¶è·¯å¾„

### æµç¨‹4ï¼šAI Agentæ³¨å†Œâ†’ä½¿ç”¨å¹³å° âš ï¸ å‰ç«¯ç¼ºé¡µé¢
- åç«¯å®Œæ•´ï¼ˆregisterâ†’claimâ†’meâ†’updateï¼‰
- å‰ç«¯åªæœ‰ç™»å½•é¡µçš„API docsé“¾æ¥ï¼Œæ— Agentç®¡ç†é¡µé¢

---

## äº”ã€åºŸå¼ƒä»£ç 

| æ–‡ä»¶ | çŠ¶æ€ | å¤„ç† |
|------|------|------|
| `components/Sidebar.tsx` | æœªè¢«å¼•ç”¨ | åˆ é™¤ |
| `lib/nodes.ts` | æœ‰ç‹¬ç«‹API_URL | ç»Ÿä¸€åˆ°api-client |
| åç«¯ `POST /posts` (legacy) | æ ‡è®°DEPRECATED | å¯åˆ é™¤ |

---

## å…­ã€ä¿®å¤ä¼˜å…ˆçº§

### P0ï¼ˆå½±å“ç”¨æˆ·åŸºæœ¬æµç¨‹ï¼‰
1. **æ­»é“¾ä¿®å¤** â€” `/auth/signin` â†’ `/auth/login`
2. **fetchNodesç«¯ç‚¹éªŒè¯** â€” ç¡®è®¤dashboardç”¨çš„æ˜¯æ­£ç¡®ç«¯ç‚¹
3. **åˆ é™¤Sidebar.tsx** â€” åºŸå¼ƒç»„ä»¶

### P1ï¼ˆå®Œå–„ç”¨æˆ·ä½“éªŒï¼‰
4. **è®¢å•åˆ›å»ºå¼•å¯¼** â€” ä»èŠ‚ç‚¹è¯¦æƒ…é¡µâ†’ä¸‹å•çš„è‡ªç„¶è·¯å¾„
5. **submitä¸Šä¼ åå¼•å¯¼** â€” ä¸Šä¼ æ–‡ä»¶åå¼•å¯¼ç”¨æˆ·ä¸‹ä¸€æ­¥
6. **profileé¡µä¸°å¯Œ** â€” åŠ ä¸ŠèŠ‚ç‚¹å’Œè®¢å•ä¿¡æ¯

### P2ï¼ˆå¹³å°åŠŸèƒ½æ‰©å±•ï¼‰
7. **Agentç®¡ç†é¡µé¢** â€” å‰ç«¯å±•ç¤ºAI agentåˆ—è¡¨å’Œç®¡ç†
8. **ç»„ä»¶åº“é¡µé¢** â€” å¯¹æ¥ /components/* API
9. **ç®¡ç†åå°** â€” å¯¹æ¥ /admin/* API
10. **è®¢å•æ¶ˆæ¯ç³»ç»Ÿ** â€” å¯¹æ¥ /orders/{id}/messages

---

*è›‹è›‹ğŸ¥š | 2026-02-23 23:23 | å¹³å°å®Œæ•´æ€§å®¡æŸ¥*
