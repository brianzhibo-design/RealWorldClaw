# 下阶段优先级建议

**日期**: 2026-02-24
**基于**: 5份审查报告 + 评分校准(5.5/10)
**目标**: 从5.5→7.0，达成4/6决策标准

---

## 核心判断

当前项目最大的三个风险：
1. **安全基础缺失** — IoT控制产品没有权限模型和E-stop，这不是"待改进"，是"不可上线"
2. **身份分裂** — 协议平台 vs 制造市场，必须二选一聚焦
3. **测试近乎为零** — 5000+文件仅1个集成测试，任何重构都是赌博

---

## 建议优先级排序（未来4-6周）

### 🔴 S0 — 安全底座（第1-2周，不可跳过）

| 任务 | 产出 | 预估 |
|------|------|------|
| 最小权限模型 | 感知权限/执行权限分离，高危命令二次确认 | 3天 |
| E-stop机制 | 断网降级 + 紧急停止 + 本地规则优先 | 2天 |
| 命令沙箱 | 白名单命令，禁止任意代码执行 | 2天 |
| 固件更新安全 | 签名验证 + 回滚能力 | 2天 |

**为什么S0**: 没有安全底座，协议不可能被第三方采纳。这是决策标准"安全模型+审计上线"的硬性要求。

### 🟠 S1 — 身份聚焦 + Skill完善（第2-3周）

| 任务 | 产出 | 预估 |
|------|------|------|
| **战略决策**: 砍掉制造市场叙事 | 统一定位为"AI-IoT控制协议+Skill" | 1天决策 |
| 首页重写 | 聚焦单一叙事：开发者+Skill用户 | 2天 |
| OpenClaw Skill端到端打磨 | 安装→配置→控设备全链路丝滑 | 3天 |
| Skill文档+演示 | 真实场景GIF/视频，非渲染图 | 2天 |

**为什么S1**: 寄生式增长策略已确定，但Skill体验还不够好。聚焦单一身份后，所有精力投入Skill质量。

### 🟡 S2 — 工程质量补债（第3-4周）

| 任务 | 产出 | 预估 |
|------|------|------|
| 核心路径测试 | API端点 + SDK + Agent ≥50个测试 | 3天 |
| SQLite→PostgreSQL | 生产环境数据持久性 | 2天 |
| CI强化 | build+lint+test全绿才能合并 | 1天 |
| 错误处理统一 | API返回格式一致，有意义的错误信息 | 2天 |

**为什么S2**: 测试覆盖是"协议/SDK稳定"决策标准的隐含要求。没有测试的SDK不可能稳定。

### 🟢 S3 — 社区冷启动（第4-6周）

| 任务 | 产出 | 预估 |
|------|------|------|
| 第2个真实硬件模块 | 不同场景（如灯光控制），BOM+教程 | 1周 |
| 第3个真实硬件模块 | 再一个场景（如门锁/窗帘） | 1周 |
| 外部贡献者引导 | CONTRIBUTING.md完善 + good-first-issue | 2天 |
| 社区渠道建立 | Discord/论坛 + 每周更新 | 持续 |

**为什么S3**: 决策标准要求"至少3个真实模块demo"和"社区每周真实提交"。

---

## 决策标准达成路径

| 决策标准 | 当前 | S0后 | S1后 | S2后 | S3后 |
|----------|------|------|------|------|------|
| 文档可复现 | ⚠️ | ⚠️ | ✅ | ✅ | ✅ |
| 3个真实模块 | ❌ | ❌ | ❌ | ❌ | ✅ |
| 协议/SDK稳定 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 安全模型上线 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 社区真实提交 | ❌ | ❌ | ❌ | ❌ | ⚠️ |
| 商业模式明确 | ⚠️ | ⚠️ | ✅ | ✅ | ✅ |

**预期**: S3完成后达成4/6标准（协议稳定 + 安全上线 + 文档可复现 + 商业明确），评分目标7.0/10。

---

## 不建议现在做的事

- ❌ **P2双边市场** — 身份未聚焦前做市场是浪费
- ❌ **企业版功能** — 连个人版都没跑通
- ❌ **计费模型** — 没有付费用户基础，设计计费是空中楼阁
- ❌ **更多SDK语言** — Python+TS够用，先把这两个做稳

---

## 给大人的建议

1. **尽快做安全底座的战略决策** — 这是技术任务，但需要产品决策（哪些命令算高危？E-stop后恢复流程？）
2. **身份二选一** — 建议砍制造市场，全押协议+Skill。理由：制造市场需要供需双边冷启动，协议路线只需开发者单边
3. **真实硬件模块需要投入** — 每个模块约¥100-200物料+数天开发，建议预算¥500做3个
4. **考虑找1-2个外部开发者试用** — 真实反馈比内部审查有价值10倍
