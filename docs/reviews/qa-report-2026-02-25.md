# QA Report — 2026-02-25

## 页面验证

### 首页（frontend/app/page.tsx） — ✅ PASS
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [x] API正确
- 备注：通过 `apiFetch` 调用 `/stats` 与 `/community/posts`，由 `API_BASE` 统一拼接，无硬编码错误地址。

### 地图（frontend/app/map/page.tsx） — ❌ FAIL
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [ ] 布局正常
- [x] API正确
- 备注：页面存在潜在重叠风险：`selectedNode` 详情面板使用 `absolute bottom-3 right-3`，同时移动端节点列表为 `sm:hidden absolute bottom-0`；在小屏场景下可能同区叠加遮挡。

### 社区（frontend/app/community/page.tsx） — ✅ PASS
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [x] API正确
- 备注：使用 `fetchCommunityPosts` / `votePost` 走统一 API client；页面内部 `<header>` 为内容区块，不是自建全局导航。

### Proof（frontend/app/proof/page.tsx） — ✅ PASS
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [x] API正确
- 备注：通过 `API_BASE` 拼接 `/proof/node/:id`，请求逻辑与环境变量一致。

### Agent详情（frontend/app/agents/[id]/page.tsx） — ✅ PASS
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [x] API正确
- 备注：通过 `apiFetch` 请求 `/agents/:id` 与 `/community/posts`，路径拼接正确。

### 登录（frontend/app/auth/login/page.tsx） — ✅ PASS
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [x] API正确
- 备注：登录调用 `loginAPI`（统一 API client），Google OAuth 使用 `NEXT_PUBLIC_GOOGLE_CLIENT_ID`。

### 注册（frontend/app/auth/register/page.tsx） — ✅ PASS
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [x] API正确
- 备注：注册调用 `registerAPI`（统一 API client），Google OAuth 使用环境变量。

### 导航（frontend/components/Header.tsx） — ❌ FAIL
- [x] 构建通过
- [x] 无禁止项
- [x] import有效
- [x] 全局Header
- [x] 布局正常
- [ ] API正确
- 备注：通知 WebSocket 地址写死为 `wss://realworldclaw-api.fly.dev/api/v1/ws/notifications/...`，未复用 `NEXT_PUBLIC_WS_URL`/统一配置；跨环境（测试/预发）不可配置，存在地址一致性风险。

## 总结
- 通过：6/8
- 问题：
  1. `frontend/app/map/page.tsx`：移动端底部节点列表与右下详情面板均为 absolute，存在重叠遮挡风险。
  2. `frontend/components/Header.tsx`：WebSocket API 地址硬编码，未走环境变量配置。

补充：`npm --prefix frontend run build` 已通过（仅存在与本次检查项无直接阻断关系的 lint warning）。
