# ğŸ‘ RealWorldClaw è´¨é‡å®¡è®¡æŠ¥å‘Š

> **å®¡è®¡å‘˜ï¼š** æš–ç¾Šç¾Š ğŸ‘ | QA æ€»ç›‘
> **æ—¥æœŸï¼š** 2026-02-20
> **èŒƒå›´ï¼š** åç«¯ APIã€æ‰“å°æœºé€‚é…å±‚ã€å‰ç«¯ã€æ–‡æ¡£ã€ä¸€è‡´æ€§æ£€æŸ¥

---

## ğŸ“Š æ€»ç»“

| çº§åˆ« | æ•°é‡ |
|------|------|
| ğŸ”´ Critical | 6 |
| ğŸŸ¡ Warning | 12 |
| ğŸŸ¢ Good | 10 |

---

## ğŸ”´ Criticalï¼ˆå¿…é¡»ä¿®ï¼‰

### C1. `posts.py` â€” `_row_to_post()` åœ¨å·²æ‰“å¼€çš„ `get_db()` ä¸Šä¸‹æ–‡ä¸­åµŒå¥—è°ƒç”¨ `get_db()`
- **æ–‡ä»¶ï¼š** `platform/api/routers/posts.py`ï¼Œç¬¬ 16-19 è¡Œ
- **é—®é¢˜ï¼š** `_row_to_post()` å†…éƒ¨è°ƒç”¨ `get_db()` è·å–ä½œè€…åï¼Œä½†æ­¤å‡½æ•°åœ¨ `list_posts()` ç­‰æ¥å£ä¸­æ˜¯åœ¨ä¸€ä¸ªå·²æ‰“å¼€çš„ `get_db()` context å†…è¢«è°ƒç”¨çš„ã€‚SQLite é»˜è®¤éçº¿ç¨‹å®‰å…¨ï¼ŒåµŒå¥—è¿æ¥è™½ç„¶èƒ½å·¥ä½œï¼ˆå› ä¸ºåˆ›å»ºäº†æ–°è¿æ¥ï¼‰ï¼Œä½†ä¼šå¯¼è‡´ **æ¯ä¸ª post ä¸€æ¬¡é¢å¤–çš„æ•°æ®åº“è¿æ¥å¼€å…³**ã€‚å½“åˆ—è¡¨è¿”å› 20 æ¡å¸–å­æ—¶ï¼Œä¼šäº§ç”Ÿ 20 æ¬¡é¢å¤– DB è¿æ¥ã€‚
- **å½±å“ï¼š** æ€§èƒ½é—®é¢˜ + æ½œåœ¨çš„ WAL é”ç«äº‰
- **å»ºè®®ä¿®å¤ï¼š** ç”¨ JOIN åœ¨æŸ¥è¯¢æ—¶ä¸€å¹¶è·å– `author_name`ï¼Œæˆ–åœ¨è°ƒç”¨æ–¹ä¼ å…¥ db è¿æ¥

### C2. `agents.py` â€” `get_current_agent()` å’Œ `auth.py` çš„ `require_auth()` é€»è¾‘é‡å¤ä¸”ä¸å…¼å®¹
- **æ–‡ä»¶ï¼š** `platform/api/routers/agents.py` ç¬¬ 36-44 è¡Œï¼Œ`platform/api/auth.py`
- **é—®é¢˜ï¼š** `require_auth()` ä½¿ç”¨ç¡¬ç¼–ç çš„ `_VALID_API_KEYS = {"rwc-test-key-2026"}` éªŒè¯ï¼›`get_current_agent()` åˆ™ä»æ•°æ®åº“æŒ‰ `api_key` æŸ¥è¯¢ agentã€‚`components.py` çš„ `create_component` åŒæ—¶ä¾èµ– **ä¸¤è€…**ï¼ˆ`_key: str = Depends(require_auth)` + `agent: dict = Depends(get_current_agent)`ï¼‰ï¼Œè¿™æ„å‘³ç€ï¼š
  - å¿…é¡»åŒæ—¶æ»¡è¶³ç¡¬ç¼–ç  key **å’Œ**æ•°æ®åº“ä¸­æœ‰è¿™ä¸ª key çš„ agent
  - ä½†æ³¨å†Œ agent æ—¶ç”Ÿæˆçš„æ˜¯ `rwc_sk_live_xxx` æ ¼å¼çš„ keyï¼Œæ°¸è¿œä¸ä¼šæ˜¯ `rwc-test-key-2026`
  - **ç»“æœï¼šçœŸå®æ³¨å†Œçš„ agent æ°¸è¿œæ— æ³•åˆ›å»ºç»„ä»¶**ï¼ˆåªæœ‰æµ‹è¯• key èƒ½è¿‡ `require_auth`ï¼Œä½†æµ‹è¯• key ä¸åœ¨ agents è¡¨é‡Œåˆè¿‡ä¸äº† `get_current_agent`ï¼‰
- **å½±å“ï¼š** æ ¸å¿ƒå†™å…¥åŠŸèƒ½å®Œå…¨ä¸å¯ç”¨
- **å»ºè®®ä¿®å¤ï¼š** å»æ‰ `create_component` ä¸Šçš„ `require_auth` ä¾èµ–ï¼Œç»Ÿä¸€ä½¿ç”¨ `get_current_agent()`ï¼›æˆ–å°† `require_auth` æ”¹ä¸ºä»æ•°æ®åº“æ ¡éªŒ

### C3. `octoprint.py` â€” `upload()` ä¸­çš„æ–‡ä»¶å¥æŸ„æ³„æ¼
- **æ–‡ä»¶ï¼š** `platform/printer/octoprint.py`ï¼Œç¬¬ 73 è¡Œ
- **é—®é¢˜ï¼š** `data.add_field("file", open(file_path, "rb"), filename=fname)` â€” `open()` çš„æ–‡ä»¶å¥æŸ„ä»æœªå…³é—­ã€‚`aiohttp.FormData` ä¸è´Ÿè´£å…³é—­ä¼ å…¥çš„æ–‡ä»¶å¯¹è±¡ã€‚
- **å»ºè®®ä¿®å¤ï¼š** ä½¿ç”¨ `async with` æˆ–åœ¨ä¸Šä¼ å®Œæˆåæ˜¾å¼å…³é—­

### C4. `moonraker.py` â€” åŒæ ·çš„æ–‡ä»¶å¥æŸ„æ³„æ¼
- **æ–‡ä»¶ï¼š** `platform/printer/moonraker.py`ï¼Œç¬¬ 57 è¡Œ
- **é—®é¢˜ï¼š** ä¸ C3 ç›¸åŒï¼Œ`open(file_path, "rb")` æœªå…³é—­
- **å»ºè®®ä¿®å¤ï¼š** åŒ C3

### C5. `bambu.py` â€” `mqtt.Client()` æ„é€ å‚æ•°å…¼å®¹æ€§é—®é¢˜
- **æ–‡ä»¶ï¼š** `platform/printer/bambu.py`ï¼Œçº¦ç¬¬ 145-150 è¡Œ
- **é—®é¢˜ï¼š** `callback_api_version` å‚æ•°çš„æ¡ä»¶åˆ¤æ–­ â€” å½“ `CallbackAPIVersion` ä¸å­˜åœ¨æ—¶ä¼  `None`ï¼Œä½† paho-mqtt v1.x çš„ `Client()` ä¸æ¥å— `callback_api_version` å‚æ•°ï¼ˆä¼šæŠ¥ `TypeError`ï¼‰ã€‚åº”è¯¥ç”¨ `**kwargs` æ–¹å¼æœ‰æ¡ä»¶åœ°ä¼ å…¥ã€‚
- **å»ºè®®ä¿®å¤ï¼š**
  ```python
  kwargs = {}
  if hasattr(mqtt, "CallbackAPIVersion"):
      kwargs["callback_api_version"] = mqtt.CallbackAPIVersion.VERSION2
  client = mqtt.Client(client_id=..., protocol=mqtt.MQTTv311, **kwargs)
  ```

### C6. å‰ç«¯ mock æ•°æ®æ¨¡å‹ä¸åç«¯ API å“åº”æ ¼å¼ä¸¥é‡ä¸ä¸€è‡´
- **æ–‡ä»¶ï¼š** `frontend/lib/mock-data.ts` vs `platform/api/models/schemas.py`
- **é—®é¢˜å¯¹ç…§ï¼š**

  | å­—æ®µ | å‰ç«¯ mock (`ClawComponent`) | åç«¯ API (`ComponentResponse`) |
  |------|---------------------------|-------------------------------|
  | åç§° | `name` | `display_name` |
  | ä»·æ ¼ | `price` | æ— æ­¤å­—æ®µ |
  | ç¼©ç•¥å›¾ | `thumbnail` | æ— æ­¤å­—æ®µ |
  | BOM | `bom: BomItem[]` | æ— æ­¤å­—æ®µ |
  | æ‰“å°å‚æ•° | `printParams: PrintParams` | æ— æ­¤å­—æ®µ |
  | é•¿æè¿° | `longDescription` | æ— æ­¤å­—æ®µ |
  | æ ‡ç­¾ | `tags: string[]` | `tags: list[str]` âœ… |
  | ä½œè€… | `author: string` | `author_id: string` (ID è€Œéåç§°) |
  | åˆ›å»ºæ—¶é—´ | `createdAt: string` | `created_at: datetime` âœ… |

- **å½±å“ï¼š** å‰åç«¯å¯¹æ¥æ—¶éœ€è¦å¤§é‡æ”¹é€ ï¼Œmock æ•°æ®åŸºæœ¬ä¸èƒ½ç›´æ¥è¿ç§»
- **å»ºè®®ä¿®å¤ï¼š** ç»Ÿä¸€å‰åç«¯æ•°æ®æ¨¡å‹ï¼›å‰ç«¯å®šä¹‰åº”åŸºäºåç«¯ schema ç”Ÿæˆ

---

## ğŸŸ¡ Warningï¼ˆåº”è¯¥ä¿®ï¼‰

### W1. `database.py` â€” ç¼ºå°‘ `CHANGELOG` è¡¨çš„è¿ç§»æœºåˆ¶
- **æ–‡ä»¶ï¼š** `platform/api/database.py`
- **é—®é¢˜ï¼š** ä½¿ç”¨ `CREATE TABLE IF NOT EXISTS` æ„å‘³ç€å¦‚æœè¡¨ç»“æ„å˜æ›´ï¼Œå·²æœ‰æ•°æ®åº“ä¸ä¼šè¢«æ›´æ–°ã€‚MVP é˜¶æ®µå¯æ¥å—ï¼Œä½†åº”å°½æ—©å¼•å…¥è¿ç§»å·¥å…·ï¼ˆå¦‚ alembic æˆ–æ‰‹åŠ¨ç‰ˆæœ¬å·ï¼‰ã€‚

### W2. `match.py` â€” `_compute_score()` ç¼ºå°‘ææ–™åŒ¹é…
- **æ–‡ä»¶ï¼š** `platform/api/routers/match.py`ï¼Œç¬¬ 18-65 è¡Œ
- **é—®é¢˜ï¼š** `MatchRequest` æœ‰ `printer_materials` å­—æ®µï¼Œä½† `_compute_score()` å®Œå…¨æ²¡æœ‰ä½¿ç”¨å®ƒã€‚ç”¨æˆ·æŒ‡å®šæ‰“å°ææ–™åä¸ä¼šå½±å“åŒ¹é…ç»“æœã€‚
- **å»ºè®®ä¿®å¤ï¼š** å¢åŠ ææ–™åŒ¹é…è¯„åˆ†ï¼ˆcomponent çš„ `material` vs request çš„ `printer_materials`ï¼‰

### W3. `schemas.py` â€” `ComponentResponse` ç¼ºå°‘ `compute`/`material`/`estimated_*` å­—æ®µ
- **æ–‡ä»¶ï¼š** `platform/api/models/schemas.py`ï¼Œ`ComponentResponse` ç±»
- **é—®é¢˜ï¼š** `ComponentCreate` åŒ…å« `compute`ã€`material`ã€`estimated_cost_cny`ã€`estimated_print_time`ã€`estimated_filament_g`ï¼Œæ•°æ®åº“ä¹Ÿå­˜äº†ï¼Œä½† `ComponentResponse` ä¸è¿”å›è¿™äº›å­—æ®µã€‚API æ¶ˆè´¹è€…æ— æ³•è·å–è¿™äº›ä¿¡æ¯ã€‚
- **å»ºè®®ä¿®å¤ï¼š** å°†è¿™äº›å­—æ®µåŠ å…¥ `ComponentResponse`

### W4. `database.py` â€” `components` è¡¨ç¼ºå°‘ `manifest_json` å­—æ®µ
- **æ–‡ä»¶ï¼š** `platform/api/database.py`
- **é—®é¢˜ï¼š** manifest schema (`specs/manifest.schema.json`) åŒ…å«ä¸°å¯Œçš„å­—æ®µï¼ˆhardwareã€physicalã€electricalã€communication ç­‰ï¼‰ï¼Œä½†æ•°æ®åº“åªå­˜å‚¨äº†å°‘é‡å­—æ®µã€‚ä¸Šä¼ å®Œæ•´ manifest åå¤§é‡ä¿¡æ¯ä¼šä¸¢å¤±ã€‚
- **å»ºè®®ä¿®å¤ï¼š** å¢åŠ  `manifest_json TEXT` åˆ—å­˜å‚¨å®Œæ•´ manifest

### W5. `validator.py` â€” `_SCHEMA_PATH` æŒ‡å‘ `tools/manifest-validator/schema.json`ï¼ˆè·¯å¾„å¯èƒ½ä¸å­˜åœ¨äºéƒ¨ç½²ç¯å¢ƒï¼‰
- **æ–‡ä»¶ï¼š** `platform/api/services/validator.py`ï¼Œç¬¬ 15 è¡Œ
- **é—®é¢˜ï¼š** ä½¿ç”¨ `Path(__file__).resolve().parents[3] / "tools" / "manifest-validator" / "schema.json"` â€” è¿™ä¾èµ–äºé¡¹ç›®çš„ç›¸å¯¹è·¯å¾„ç»“æ„ã€‚Docker éƒ¨ç½²æˆ– pip install åœºæ™¯ä¸‹æ­¤è·¯å¾„ä¸å­˜åœ¨ã€‚
- **å»ºè®®ä¿®å¤ï¼š** å°† schema æ‰“åŒ…åˆ° Python åŒ…å†…ï¼Œæˆ–é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®è·¯å¾„

### W6. `agents.py` â€” `register_agent` çš„ SQL å ä½ç¬¦æ•°é‡ä¸åŒ¹é…
- **æ–‡ä»¶ï¼š** `platform/api/routers/agents.py`ï¼Œçº¦ç¬¬ 70 è¡Œ
- **é—®é¢˜ï¼š** INSERT è¯­å¥æœ‰ 12 ä¸ªåˆ—åä½† VALUES æœ‰ 12 ä¸ª `?`ï¼Œå‚æ•°å…ƒç»„ä¹Ÿæ˜¯ 12 ä¸ªã€‚çœ‹èµ·æ¥å¯¹é½äº†ï¼Œä½† `callback_url` åœ¨ `req.callback_url` ä½ç½®ä¼ äº†ä¸¤æ¬¡ï¼ˆä¸€æ¬¡åœ¨ `api_key` ä¹‹åï¼Œä¸€æ¬¡ä¸è¯¥æœ‰çš„åœ°æ–¹ï¼‰ã€‚ä»”ç»†æ ¸å¯¹ï¼šåˆ—åæœ‰ `api_key, callback_url, claim_token, claim_expires_at, created_at, updated_at` â€” å¯¹åº”å‚æ•° `api_key, req.callback_url, claim_token, claim_expires, now, now` â€” âœ… å®é™…ä¸Šå¯¹é½äº†ã€‚æ­¤é¡¹é™çº§ä¸ºå·²ç¡®è®¤æ— è¯¯ï¼Œæ’¤å›ã€‚

**ï¼ˆæ›´æ­£ï¼šW6 æ’¤å›ï¼Œå‚æ•°å¯¹é½æ­£ç¡®ï¼‰**

### W6.ï¼ˆæ›¿ä»£ï¼‰`agents.py` â€” `_tier_for_rep` ä¸åœ¨ `update_me` ä¸­è‡ªåŠ¨æ›´æ–° tier
- **æ–‡ä»¶ï¼š** `platform/api/routers/agents.py`
- **é—®é¢˜ï¼š** å®šä¹‰äº† `_tier_for_rep()` å‡½æ•°ä½†ä»æœªåœ¨ä»»ä½•å£°èª‰å˜æ›´æ—¶è°ƒç”¨ã€‚agents è¡¨çš„ tier å­—æ®µå§‹ç»ˆä¸ºåˆå§‹å€¼ `newcomer`ï¼Œå³ä½¿ reputation å¢é•¿ä¹Ÿä¸ä¼šå‡çº§ã€‚
- **å»ºè®®ä¿®å¤ï¼š** åœ¨å£°èª‰å˜æ›´æ—¶è°ƒç”¨ `_tier_for_rep` å¹¶æ›´æ–° tier

### W7. `test_api.py` â€” ç¼ºå°‘åˆ›å»ºç»„ä»¶æˆåŠŸè·¯å¾„çš„æµ‹è¯•
- **æ–‡ä»¶ï¼š** `platform/tests/test_api.py`
- **é—®é¢˜ï¼š** åªæµ‹äº† `test_create_component_no_auth` å’Œ `test_create_component_bad_key`ï¼ˆå¤±è´¥è·¯å¾„ï¼‰ï¼Œæ²¡æœ‰æˆåŠŸåˆ›å»ºç»„ä»¶çš„æµ‹è¯•ã€‚è€ƒè™‘åˆ° C2 çš„åŒé‡è®¤è¯ bugï¼Œè¿™ä¸ªç¼ºå¤±å¯¼è‡´ bug æœªè¢«å‘ç°ã€‚
- **å»ºè®®ä¿®å¤ï¼š** å¢åŠ  `test_create_component_success` æµ‹è¯•ï¼Œseed ä¸€ä¸ª active agent å¹¶ç”¨å…¶ api_key åˆ›å»ºç»„ä»¶

### W8. `test_api.py` â€” ç¼ºå°‘ postsã€matchã€agents ç«¯ç‚¹çš„æµ‹è¯•
- **æ–‡ä»¶ï¼š** `platform/tests/test_api.py`
- **é—®é¢˜ï¼š** ç›®å‰ä»…æµ‹è¯• healthã€statsã€componentsã€‚posts è·¯ç”±ã€match è·¯ç”±ã€agent æ³¨å†Œ/è®¤é¢†/æ›´æ–°å®Œå…¨æ— æµ‹è¯•è¦†ç›–ã€‚
- **å»ºè®®ä¿®å¤ï¼š** è¡¥å……å„è·¯ç”±çš„åŸºæœ¬ happy path + error path æµ‹è¯•

### W9. Manifest schema ä¸ DB æ¨¡å‹çš„ `display_name`/`description` ç±»å‹ä¸ä¸€è‡´
- **æ–‡ä»¶ï¼š** `specs/manifest.schema.json` vs `platform/api/database.py`
- **é—®é¢˜ï¼š** Schema ä¸­ `display_name` å’Œ `description` æ˜¯ **å¯¹è±¡**ï¼ˆ`{en: "...", zh: "..."}`ï¼‰ï¼Œä½†æ•°æ®åº“ä¸­æ˜¯ **çº¯å­—ç¬¦ä¸²** TEXT åˆ—ã€‚ä¸Šä¼  manifest åéœ€è¦æå–å•è¯­è¨€å€¼ï¼Œä½†ç›®å‰ä»£ç æ— ä»»ä½•è½¬æ¢é€»è¾‘ã€‚
- **å»ºè®®ä¿®å¤ï¼š** åœ¨ç»„ä»¶ä¸Šä¼ æµç¨‹ä¸­å¢åŠ  i18n å­—æ®µæå–é€»è¾‘

### W10. å‰ç«¯ `Footer.tsx` â€” ç‰ˆæƒå¹´ä»½ç¡¬ç¼–ç  2025
- **æ–‡ä»¶ï¼š** `frontend/components/Footer.tsx`ï¼Œç¬¬ 5 è¡Œ
- **é—®é¢˜ï¼š** `Â© 2025 RealWorldClaw` â€” å½“å‰å·²æ˜¯ 2026 å¹´
- **å»ºè®®ä¿®å¤ï¼š** `Â© ${new Date().getFullYear()} RealWorldClaw`

### W11. å‰ç«¯æè¿°ä¸ä¸€è‡´ â€” "Claw Machine" vs "AI Agent Body"
- **æ–‡ä»¶ï¼š** å¤šå¤„
- **é—®é¢˜ï¼š** å‰ç«¯æ–‡æ¡ˆè¯´çš„æ˜¯"å¨ƒå¨ƒæœºç»„ä»¶å¹³å°"ï¼ˆclaw machine componentsï¼‰ï¼Œåç«¯å’Œ README è¯´çš„æ˜¯"AI agent physical body platform"ã€‚å“ç‰Œå®šä½ä¸ä¸€è‡´ã€‚
  - `layout.tsx`: "Open-Source Claw Machine Components"
  - `page.tsx`: "Build Your Own Claw Machine"
  - `README.md`: "Give every AI agent a body"
- **å»ºè®®ä¿®å¤ï¼š** ç»Ÿä¸€å“ç‰Œå™äº‹ï¼Œå‰ç«¯åº”ä¸ README ä¿æŒä¸€è‡´

### W12. `bambu.py` â€” `discover()` æ˜¯ `@staticmethod` ä½†å±äºå®ä¾‹ç±»
- **æ–‡ä»¶ï¼š** `platform/printer/bambu.py`
- **é—®é¢˜ï¼š** `BambuLabAdapter.discover()` æ˜¯ static methodï¼ŒåŠŸèƒ½ä¸Šæ›´é€‚åˆæ”¾åœ¨ç‹¬ç«‹çš„ discovery æ¨¡å—ä¸­ï¼ˆ`discovery.py` å·²å­˜åœ¨ï¼‰ã€‚ä¸”ä¸ `discovery.py` çš„ mDNS å‘ç°åŠŸèƒ½é‡å¤ã€‚
- **å»ºè®®ä¿®å¤ï¼š** ç»Ÿä¸€å‘ç°æœºåˆ¶ï¼ŒBambu SSDP å‘ç°æ•´åˆåˆ° `discovery.py`

---

## ğŸŸ¢ Goodï¼ˆåšå¾—å¥½çš„ï¼‰

### G1. æ‰“å°æœºé€‚é…å™¨æŠ½è±¡è®¾è®¡ä¼˜ç§€
- `base.py` å®šä¹‰äº†æ¸…æ™°çš„ ABC æ¥å£ï¼Œ4 ä¸ªå®ç°ï¼ˆBambu / OctoPrint / Moonraker / Genericï¼‰å…¨éƒ¨æ­£ç¡®ç»§æ‰¿ï¼Œæ–¹æ³•ç­¾åç»Ÿä¸€ã€‚è¿™æ˜¯æ•™ç§‘ä¹¦çº§åˆ«çš„ç­–ç•¥æ¨¡å¼ã€‚

### G2. Bambu Lab é€‚é…å™¨æ–‡æ¡£æå…¶è¯¦å°½
- `bambu.py` å¤´éƒ¨çš„åè®®æ–‡æ¡£å ªæ¯”å®˜æ–¹ wikiï¼ŒåŒ…å« MQTT topic ç»“æ„ã€å‘½ä»¤åˆ—è¡¨ã€çŠ¶æ€å­—æ®µã€FTP ä¸Šä¼ æµç¨‹ã€‚å¯¹åç»­ç»´æŠ¤è€…éå¸¸å‹å¥½ã€‚

### G3. æ•°æ®åº“å±‚ä½¿ç”¨ context manager ç¡®ä¿äº‹åŠ¡å®‰å…¨
- `get_db()` æ­£ç¡®ä½¿ç”¨ `try/except/finally` + `commit/rollback/close`ã€‚

### G4. Pydantic æ¨¡å‹ç±»å‹æ ‡æ³¨å®Œæ•´
- `schemas.py` ä¸­æ‰€æœ‰æ¨¡å‹éƒ½æœ‰ Field éªŒè¯ï¼ˆmin_lengthã€pattern ç­‰ï¼‰ï¼Œenum ç±»å‹è§„èŒƒï¼ŒOptional æ ‡æ³¨æ¸…æ™°ã€‚

### G5. è·¯ç”±æ³¨å†Œä¸å®é™… router æ–‡ä»¶å®Œå…¨åŒ¹é…
- `main.py` æ³¨å†Œäº† `agents, components, posts, match` å››ä¸ª routerï¼Œå¯¹åº”çš„æ–‡ä»¶å…¨éƒ¨å­˜åœ¨ä¸” prefix ä¸€è‡´ âœ…

### G6. æµ‹è¯•ä½¿ç”¨ tmp_path + monkeypatch éš”ç¦»æ•°æ®åº“
- `test_api.py` çš„ `_setup_db` fixture æ­£ç¡®åœ°å°†æ¯ä¸ªæµ‹è¯•éš”ç¦»åˆ°ä¸´æ—¶ DBï¼Œé¿å…çŠ¶æ€æ³„æ¼ã€‚

### G7. Manifest validator è®¾è®¡æ¸…æ™°
- `validator.py` æ”¯æŒçº¯å­—å…¸éªŒè¯å’Œå®Œæ•´ç›®å½•éªŒè¯ä¸¤ç§æ¨¡å¼ï¼Œæ˜Ÿçº§è¯„åˆ†ç³»ç»Ÿæœ‰è¶£ä¸”å®ç”¨ã€‚

### G8. å‰ç«¯ç»„ä»¶åŒ–åˆç†
- Header/Footer/ComponentCard ç‹¬ç«‹ç»„ä»¶ï¼Œé¡µé¢ç»“æ„æ¸…æ™°ï¼ŒNext.js App Router ä½¿ç”¨æ­£ç¡®ã€‚

### G9. STRUCTURE.md ä¸å®é™…ç›®å½•ç»“æ„é«˜åº¦ä¸€è‡´
- æ–‡æ¡£æè¿°çš„ç›®å½•å…¨éƒ¨å­˜åœ¨ï¼š`docs/`, `specs/`, `components/`, `platform/`, `tools/`, `website/`, `archive/`ã€‚é¢å¤–å­˜åœ¨ `frontend/`ï¼ˆSTRUCTURE.md æœªæåŠä½†åˆç†ï¼‰å’Œæ ¹çº§ `docker-compose.yml`ã€‚
- ç¼ºå¤±çš„æ–‡ä»¶ï¼š`CHANGELOG.md`ï¼ˆSTRUCTURE.md æåˆ°ä½†æœªåˆ›å»ºï¼‰ã€`.github/` ç›®å½•

### G10. ä¸¤ä»½ schema.json å®Œå…¨åŒæ­¥
- `tools/manifest-validator/schema.json` å’Œ `specs/manifest.schema.json` å†…å®¹å®Œå…¨ä¸€è‡´ï¼ˆdiff ä¸ºç©ºï¼‰ï¼Œé¿å…äº†ç‰ˆæœ¬æ¼‚ç§»ã€‚

---

## ğŸ“‹ ä¸€è‡´æ€§æ£€æŸ¥æ€»ç»“

| æ£€æŸ¥é¡¹ | ç»“æœ |
|--------|------|
| main.py è·¯ç”± â†” router æ–‡ä»¶ | âœ… å®Œå…¨åŒ¹é… |
| database.py æ¨¡å‹å­—æ®µ â†” schemas.py | ğŸŸ¡ å“åº”æ¨¡å‹ç¼ºå°‘éƒ¨åˆ† DB å­—æ®µï¼ˆW3ï¼‰ |
| manifest schema â†” DB æ¨¡å‹ | ğŸŸ¡ display_name/description ç±»å‹ä¸ä¸€è‡´ï¼ˆW9ï¼‰ï¼›DB ç¼ºå°‘å¤§é‡ manifest å­—æ®µï¼ˆW4ï¼‰ |
| ä¸¤ä»½ schema.json ä¸€è‡´æ€§ | âœ… å®Œå…¨ä¸€è‡´ |
| å‰ç«¯ mock â†” åç«¯ API | ğŸ”´ ä¸¥é‡ä¸ä¸€è‡´ï¼ˆC6ï¼‰ |
| STRUCTURE.md â†” å®é™…ç›®å½• | âœ… åŸºæœ¬ä¸€è‡´ï¼ˆç¼º CHANGELOG.mdã€.github/ã€æœªæ frontend/ï¼‰ |
| ROADMAP.md â†” å®é™…è¿›åº¦ | ğŸŸ¡ Phase 0 å¤§éƒ¨åˆ†å®Œæˆï¼›Phase 1 åç«¯ API åŸºæœ¬å°±ç»ªä½†å‰ç«¯ä»ç”¨ mock æ•°æ® |
| README.md å‡†ç¡®æ€§ | ğŸŸ¡ Quick Start çš„ `python -m api.main` éœ€ç¡®è®¤ï¼ˆåº”ä» platform/ ç›®å½•è¿è¡Œï¼‰ï¼›æåˆ°çš„ `make docker-dev` æœªéªŒè¯ |

---

## ğŸ¯ ä¿®å¤ä¼˜å…ˆçº§å»ºè®®

1. **ç«‹å³ä¿®ï¼ˆé˜»å¡å¼€å‘ï¼‰ï¼š** C2ï¼ˆåŒé‡è®¤è¯ bugï¼‰â†’ å¦åˆ™å†™å…¥ API å®Œå…¨ä¸å¯ç”¨
2. **å°½å¿«ä¿®ï¼ˆè´¨é‡é£é™©ï¼‰ï¼š** C1ï¼ˆåµŒå¥— DB è¿æ¥ï¼‰ã€C3/C4ï¼ˆæ–‡ä»¶æ³„æ¼ï¼‰ã€C5ï¼ˆMQTT å…¼å®¹ï¼‰
3. **Sprint å†…ä¿®ï¼š** C6ï¼ˆå‰åç«¯æ•°æ®æ¨¡å‹ç»Ÿä¸€ï¼‰ã€W7/W8ï¼ˆè¡¥æµ‹è¯•ï¼‰
4. **ä¸‹ä¸ª Sprintï¼š** W2-W5ã€W9-W12

---

*æš–ç¾Šç¾Š ğŸ‘ | "è´¨é‡ä¸æ˜¯æ£€æµ‹å‡ºæ¥çš„ï¼Œæ˜¯è®¾è®¡å‡ºæ¥çš„ã€‚ä½†æ£€æµ‹èƒ½å¸®ä½ å‘ç°è®¾è®¡å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚"*
