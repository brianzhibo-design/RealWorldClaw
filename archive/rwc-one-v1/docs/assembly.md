# 🦀 RWC-ONE 组装教程

## 准备工作

### 你需要的工具
- 3D打印机（FDM，PLA材料）
- 烙铁 + 焊锡（或杜邦线免焊方案）
- 热熔胶枪
- 小十字螺丝刀
- USB-C数据线
- 电脑（烧录固件）

### 你需要的零件
参见 `electronics/bom.yaml`，总成本约 ¥40-50。

---

## 第一步：3D打印 🖨️

### 选择你的手势
- `rwc-one-peace.scad` — ✌️ 和平（推荐新手）
- `rwc-one-fist.scad` — ✊ 力量
- `rwc-one-wave.scad` — 👋 打招呼（需要支撑）

### 打印设置
| 参数 | 推荐值 |
|------|--------|
| 材料 | PLA |
| 层高 | 0.2mm |
| 填充 | 20% |
| 支撑 | Wave版需要，其他最小化 |
| 壁厚 | 2mm (2层) |
| 颜色 | 蟹橙 / 蟹红 / 荧光绿 |

### 需要打印的部件
在 OpenSCAD 中设置 `render_part`：
1. **`base`** — 底座（下壳）— 约40分钟
2. **`body`** — 身体（上壳）— 约1小时
3. **`claw`** — 爪子 — 约1-2小时

> 💡 先打印底座测试尺寸，确认LED灯环能放进去再打其他部件

---

## 第二步：电子组装 ⚡

### 2.1 焊接/连线

按照 `electronics/wiring.md` 接线。简化版：

```
OLED:   VCC→3V3  GND→GND  SDA→GP4  SCL→GP5
DHT22:  VCC→3V3  GND→GND  DAT→GP6  (+ 10kΩ上拉)
LED环:  VCC→5V   GND→GND  DIN→GP7
蜂鸣器: +→GP8    -→GND
按钮:   A→GP9    B→GND
```

### 2.2 建议接线顺序

1. 先接 ESP32 + OLED，烧固件测试屏幕
2. 再接 DHT22，验证温湿度读数
3. 接 LED 灯环，看颜色变化
4. 最后接蜂鸣器和按钮

### 2.3 DHT22 上拉电阻

**不要忘了！** 在 DHT22 的 DATA 引脚和 3.3V 之间焊一个 10kΩ 电阻。

---

## 第三步：烧录固件 💾

### 3.1 安装 PlatformIO

```bash
pip install platformio
```

### 3.2 修改配置

编辑 `firmware/src/main.ino`，修改WiFi和MQTT信息：

```cpp
const char* WIFI_SSID   = "你的WiFi名";
const char* WIFI_PASS   = "你的WiFi密码";
const char* MQTT_SERVER  = "你的MQTT服务器";
```

> 没有MQTT服务器？没关系，Clawbie可以离线工作！表情和灯光都正常。

### 3.3 烧录

```bash
cd firmware
pio run -t upload
```

### 3.4 验证

打开串口监视器（115200 baud），你应该看到：

```
🦀 RWC-ONE Clawbie starting...
🦀 Clawbie ready!
T=24.5°C  H=55.2%
```

---

## 第四步：组装外壳 🔧

### 4.1 底座安装

1. 将 **LED灯环** 放入底座底部的槽中（朝下发光）
2. 将 **ESP32-C3** 用热熔胶固定到安装柱上
3. 将 **DHT22** 朝向背面通风口的方向放置
4. USB-C口对准底座侧面的开孔
5. 整理好线缆，不要挡住通风

### 4.2 上壳安装

1. 将 **OLED屏幕** 从内侧用热熔胶固定在正面圆形开孔处
2. **蜂鸣器** 粘在内部空间
3. **按钮** 安装在侧面开孔
4. 将上壳对准底座，卡扣扣合

> 💡 先不要完全扣合！确认所有电子元件工作正常后再合上

### 4.3 爪子安装

爪子和身体之间可以用：
- **热熔胶** — 简单牢固
- **M3螺丝** — 需要自己打孔
- **卡槽** — 高级玩家可以修改SCAD文件加卡槽

---

## 第五步：开机！ 🎉

1. 插入 USB-C 线
2. 看到彩虹灯光旋转 → 启动动画
3. 听到 "哔哔哔" → 蜂鸣器正常
4. OLED显示 "CLAWBIE" → 屏幕正常
5. 连接WiFi...
6. 出现笑脸 😊 → **大功告成！**

### 按钮操作
- **按一下** → 切换到温度显示
- **再按一下** → 切换到湿度显示
- **再按一下** → 回到表情模式

---

## 故障排除

| 问题 | 解决方案 |
|------|---------|
| OLED不亮 | 检查I2C接线，确认地址0x3C |
| 温度显示NaN | 检查DHT22接线+上拉电阻 |
| LED不亮 | 确认用5V供电，不是3.3V |
| WiFi连不上 | 检查SSID/密码，ESP32-C3只支持2.4GHz |
| 蜂鸣器没声音 | 确认是无源蜂鸣器，有源的音调不可控 |
| 卡扣太紧 | 用砂纸打磨，或调整SCAD中snap_depth参数 |

---

## 完成！🦀✨

恭喜你拥有了自己的 Clawbie！

拍张照，在社区里分享吧~ 记得标签 #RWC-ONE #Clawbie

> *"每一个 Clawbie 都是独一无二的，因为它是你亲手造的。"*
