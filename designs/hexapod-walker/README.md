# 🕷️ Hexapod Walker — RealWorldClaw 参考设计 #2

> 六足行走者：用6个SG90舵机驱动的迷你六足机器人

## 概念

一个掌心大小的六足步行机器人，展示 RealWorldClaw 模块系统在移动机器人领域的应用。采用经典**三角步态**（tripod gait），3腿着地、3腿抬起交替前进，结构简单但动作协调。

OLED 显示表情，通过 MQTT 接收移动指令，可用手机遥控。

## BOM（物料清单）

| 模块/零件 | 数量 | 单价(¥) | 小计(¥) |
|-----------|------|---------|---------|
| Core 模块 (ESP32-S3) | 1 | 25 | 25 |
| Power 模块 (18650) | 1 | 12 | 12 |
| Display 模块 (OLED) | 1 | 10 | 10 |
| Servo 模块 (PCA9685) | 1 | 11 | 11 |
| SG90 舵机 | 6 | 5 | 30 |
| 3D打印件（body + leg×6） | 1套 | — | ~¥5 |
| M2×8 螺丝 | 18 | — | ~¥2 |
| 杜邦线 | 若干 | — | ~¥3 |
| **合计** | | | **¥88 + ~¥10 耗材** |

## 3D打印件

| 文件 | 数量 | 说明 |
|------|------|------|
| `models/body.stl` | 1 | 六角形中心体，80mm直径 |
| `models/leg.stl` | 6 | 腿部件（大腿+小腿+足尖一体） |

建议：PLA，0.2mm层高，20%填充，无支撑。

## 组装步骤

### 1. 安装舵机到机身
将6个SG90舵机卡入 body 六个侧面的安装槽中，舵机轴朝外。用M2螺丝从外侧固定。

### 2. 安装腿部件
将 leg 部件套在舵机摇臂上，用舵机自带螺丝固定。6条腿均匀分布在六角体周围。

### 3. 安装模块
- **Core 模块**：卡入顶部中央安装位
- **Power 模块**：卡入 Core 旁边的安装位
- **Display 模块**：卡入前方安装位（朝前显示表情）
- **Servo 模块**：卡入底部安装位

### 4. 接线
- Servo 模块通过 I²C 连接 Core（SDA/SCL）
- 6个舵机信号线接 Servo 模块通道 0-5
- 舵机电源由 Power 模块 5V 输出供电
- Display 模块共享 I²C 总线（地址不同）

### 5. 校准
上电前将所有舵机归中（90°），确保腿部件处于水平中位。

### 6. 刷入固件
```bash
# 编译并上传 hexapod_gait 示例
pio run -e hexapod -t upload
```

## 步态算法 — 三角步态（Tripod Gait）

六足机器人最经典的步态。将6条腿分成两组：

```
组A: 腿1(右前), 腿4(左中), 腿5(右后)  ●
组B: 腿2(左前), 腿3(右中), 腿6(左后)  ○

俯视图（前方朝上）：
      ●1    ○2
   ○3          ●4
      ●5    ○6
```

### 行走周期
1. **相位1**：A组抬起→前摆，B组着地→后推
2. **相位2**：B组抬起→前摆，A组着地→后推

每条腿只有1个自由度（前后摆动），通过机械结构实现抬腿效果：舵机前摆时腿自然抬起（弹簧足尖或斜面设计）。

### 简化运动学
- 前进：所有腿同向摆动
- 转弯：左右两侧腿反向摆动
- 速度：调整摆动幅度和周期

## MQTT 控制

```
topic: rwc/{device_id}/move
payload: {"vx": 0.5, "vy": 0, "omega": 0}
```

- `vx`: 前进速度 (-1.0 ~ 1.0)
- `vy`: 横移速度（简化版忽略）
- `omega`: 旋转速度 (-1.0 ~ 1.0)
